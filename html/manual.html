<!DOCTYPE HTML>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="viewport"
	content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" />
<meta name="format-detection" content="telephone=no" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="black" />
<title>API</title>
<link rel="stylesheet"
	href="http://cdn.bootcss.com/bootstrap/3.3.5/css/bootstrap.min.css">
<script src="http://cdn.bootcss.com/jquery/2.1.4/jquery.min.js"></script>
<script src="http://cdn.bootcss.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
<script type="text/javascript"> 
	(function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G=[].slice,H={}.hasOwnProperty,I=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};for(z=this,a=function(b){return b instanceof a?b:this instanceof a?void(this._wrapped=b):new a(b)},a.now=function(){return(Date.now||function(){return(new Date).getTime()})()},a.script_time=a.now(),D=0,a.CRLF="\r\n",C=a,s={log:1,info:2,warn:3,error:4,none:5},f={c:!1},u={ctxPath:"",basePath:"",logger:s.log,toStringEvent:!1,toStringShowType:!0,logPrefix:function(b){return">> "+b+" ["+a.when.log()+"]"},dateMask:{"default":"yyyy-mm-dd HH:MM:ss",log:"yyyy-mm-dd HH:MM:ss l",day:"yyyy-mm-dd",time:"HH:MM:ss",week:"dddd"},dateI18n:{day:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],month:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]}},c=Array.prototype.forEach,b=Array.prototype.filter,e={},m=encodeURIComponent,a.each=function(b,d,f){var g,h,i,j,k,l;if(null===b)return b;if(c&&b.forEach===c)b.forEach(d,f);else if(b.length===+b.length)for(g=0,k=b.length;;){if(k>g||d.call(f,b[g],g,b)===e)break;g++}else for(j=a.keys(b),h=0,l=j.length;l>h;h++)if(i=j[h],d.call(f,b[i],i,b)===e)return;return b},a.filter=function(c,d,e){var f;return f=[],null===c?f:b&&c.filter===b?c.filter(d,e):(a.each(c,function(a,b,c){d.call(e,a,b,c)&&f.push({index:a})}),f)},a.extend=function(b){return a.each(a.slice(arguments,1),function(a){var c;if(a)for(c in a)b[c]=a[c]}),b},a.capitalize=function(a){return a.charAt(0).toUpperCase()+a.slice(1)},l=function(b,c,d,e){return function(c){return b[e?e+a.capitalize(c):c]=d}(c)},a.type=function(a,b){var c;return null==b&&(b=!1),c=Object.prototype.toString.call(a),b?c:c.slice(8,-1)},i=["Arguments","Array","Boolean","Date","Error","Function","Null","Number","Object","RegExp","String","Undefined","global"],d=function(b){return l(C,b,function(c){return b===a.type(c)},"is")},o=0,r=i.length;r>o;o++)E=i[o],d(E);a.isFunc=a.isFunction,a.isWin=a.isGlobal,a.isJson=function(b){return"object"==typeof b&&a.isObject(b)&&!b.length},a.isEvent=function(b){return!(a.isNull(b)||a.isUndefined(b)||a.isUndefined(b.altKey)&&a.isUndefined(b.preventDefault))},a.isBlank=function(){var b,c,d,e,f;if(c=arguments[0],f=2<=arguments.length?G.call(arguments,1):[],c=a.isString(c)?a.trim(c):c,null!=f)for(d=0,b=f.length;b>d;d++)if(e=f[d],e===c)return!0;return a.isNull(c)||a.isUndefined(c)||a.isString(c)&&c.length<1||a.isJson(c)&&a.keys(c).length<1?!0:!1},a.isPlainObject=function(b){return a.isObject(b)&&!a.isWin(b)&&Object.getPrototypeOf(b)===Object.prototype},n=function(b,c,d){var e;e=d||C,l(e,b,function(){return a.isFunc(u[b])?u[b].apply(this,arguments):u[b]},"get"),l(e,b,function(a){return u[b]=a},"set"),u[b]=c},a.getset=function(b,c){var d,e,f,g,h,i;if(g={},a.isString(b))g[b]=null;else if(a.isArray(b))for(d=h=0,f=b.length;f>h;d=++h)i=b[d],g[i]=null;else{if(!a.isJson(b))throw new Error(a.type(arguments)+" is unsupported, supports 'string' or 'string array' or 'JSON object'.");g=b}for(e in g)i=g[e],n(e,i,c)},a.getset(u),a.getset(f,f),a.settings=function(){return u},a.clone=function(b){return a.isObject(b)?a.isArray(b)?b.slice():a.extend({},b):b},A=function(b,c,d,e){var f,g;f=a.isArray(c),g=a.isPlainObject(c),a.each(c,function(c,h){var j;j=a.type(c),e&&(h=d?e:e+"["+(g||j===i[8]||j===i[1]?h:"")+"]"),!e&&f?b.add(c.name,c.value):j===i[1]||!d&&j===i[8]?A(b,c,d,h):b.add(h,c)})},a.param=function(a,b){var c;return c=[],c.add=function(a,b){return this.push(m(a)+"="+m(b))},A(c,a,b),c.join("&").replace(/%20/g,"+")},a.getUrl=function(b,c){var d;return d=a.isBlank(c)?"":"?"+(a.isJson(c)?a.param(c):String(c)),/^http/.test(b)?b+d:a.getBasePath()+a.aroundIf(a.getCtxPath(),"/")+b+d},a.getUrlVars=function(){var a,b,c,d,e,f,g,h;if(h={},b=z.location.href,c=b.indexOf("?"),-1===c)return h;for(f=b.slice(c+1).split("&"),e=0,d=f.length;d>e;e++)g=f[e],a=g.split("="),h[a[0]]=a[1];return h},a.href=function(b,c){z.location.href=a.getUrl(b,c)},a.slice=function(b,c){return a.isArguments(b)?Array.prototype.slice.call(b,c):(b||[]).slice(c||0)},a.startWith=function(b,c){return new RegExp("^"+(a.isArray(c)?"["+c.join("|")+"]":c)).test(b)},a.endWith=function(b,c){return new RegExp((a.isArray(c)?"["+c.join("|")+"]":c)+"$").test(b)},a.startIf=function(b,c){return a.startWith(b,c)?b:c+b},a.endIf=function(b,c){return a.endWith(b,c)?b:b+c},a.aroundWith=function(b,c){return a.startWith(b,c)&&a.endWith(b,c)},a.aroundIf=function(b,c){return a.endIf(a.startIf(b,c),c)},a.prefix=function(a,b,c){return(Array(b).join(c||"0")+a).slice(-b)},a.suffix=function(a,b,c){return a+Array(b+1).join(c||"0").slice(a.length)},a.trim=function(b,c){return a.isString(b)?a.isUndefined(c)?b.replace(/(^\s*)|(\s*$)/g,""):b.replace(new RegExp("(^("+c+")*)|(("+c+")*$)","gi"),""):b},a.repeat=function(a,b){return new Array(1+b).join(a)},a.ltrim=function(b,c){return a.isString(b)?b.replace(new RegExp("(^"+(a.isBlank(c)?"\\s":c)+"*)"),""):b},a.rtrim=function(b,c){return a.isString(b)?b.replace(new RegExp("("+(a.isBlank(c)?"\\s":c)+"*$)"),""):b},a.randomStr=function(a){var b;for(b="";;)if(b+=Math.random().toString(36).substr(2),b.length>=a)break;return b.substr(0,a)},a.uniqueId=function(a){var b;return b=++D+"",a?a+b:b},a.times=function(a,b,c){var d,e;for(d=Array(Math.max(0,a)),e=0;;)if(d[e]=b.call(c,e),++e,e>=a)break;return d},a.delay=function(b,c){var d;return d=a.slice(arguments,2),setTimeout(function(){return b.apply(null,d)},c)},a.once=function(a){var b,c;return c=!1,b=null,function(){return c?b:(c=!0,b=a.apply(this,arguments),a=null,b)}},a.wrap=function(a,b){return function(){var c;return c=[a],Array.prototype.push.apply(c,arguments),b.apply(this,c)}},a.prop=function(a){return function(b){return b[a]}},a.format=function(b,c){return a.isArray(c)||(c=a.slice(arguments,1)),b.replace(/\{(\d+)\}/gm,function(b,d){var e;return e=c[d]||b,a.isObject(e)?g(e):e})},w=function(b,c){var d,e,f;if(a.isArray(b))d=b.indexOf(c),d>-1&&b.splice(d,1);else if(a.isJson(b))for(e in b)f=b[e],f===c&&delete b[e]},a.rmByVal=function(){var a,b,c,d,e;for(d=arguments[0],a=2<=arguments.length?G.call(arguments,1):[],c=0,b=a.length;b>c;c++)e=a[c],w(d,e);return d},a.getKey=function(a,b){var c,d;for(c in a)if(H.call(a,c)&&(d=a[c],d===b))return c;return null},a.has=function(b,c){return a.isBlank(b)?!1:a.isArray(b)?I.call(b,c)>=0:a.isObject(b)?c in b:Object.prototype.hasOwnProperty.call(b,c)},a.sleep=function(b){var c,d;for(d=a.now(),c=-1;;)if(c++,a.now()-d>=b)break},a.querySelector=function(a,b,c){return null==b&&(b=!1),null==c&&(c=document),b?c.querySelectorAll(a):c.querySelector(a)},a.query=function(){var b,c,d,e,f,g;switch(e=1<=arguments.length?G.call(arguments,0):[],d=e.length,g="",c=!1,d){case 1:case 2:case 3:g=e[0],2===d&&(a.isBoolean(e[1])?c=e[1]:b=e[1]),3===d&&(b=e[1],c=e[2])}if(b=b||document,/^[A-Za-z0-9]+$/.test(g)){if(f=a.querySelector(g,c,b),null!==f)return f;g="[name="+g+"]"}return a.querySelector(g,c,b)},a.removeEl=function(){var b,c;c=1<=arguments.length?G.call(arguments,0):[],b=a.query(c),b&&b.parentNode.removeChild(b)},a.chkParam=function(){var b,c,d,e;if(e=1<=arguments.length?G.call(arguments,0):[],d=e[0],c=e[1]||"",b=a.slice(e,2),!d)throw new Error(a.format(c,b));return!0},a.fillParam=function(){var b,c,d,e,f,g,h,i,j,k;switch(g=1<=arguments.length?G.call(arguments,0):[],c="",b=null,j=["div","span"],f=g.length){case 1:b=g[0];break;case 3:case 2:3===f&&(j=j.concat(a.isArray(g[2])?g[2]:[g[2]])),c=g[0],b=g[1]}c=a.startIf(c,"#");for(e in b)k=b[e],i=null,i=a.startWith(e,["#","\\."])?c+" "+e:c+" [name="+e+"]",d=a.query(i),a.isBlank(d)||(h=(d.tagName||"").toLowerCase(),I.call(j,h)>=0?d.innerHTML=k:d.value=k)},a.getParam=function(){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q;for(h=arguments[0],i=2<=arguments.length?G.call(arguments,1):[],h=a.startIf(h,"#"),e=["hidden","text","checkbox","password","tel","email","url","number","date","time","datetime","month"],j=["li"],d=["select"].concat(i),m=0,k=e.length;k>m;m++)q=e[m],d.push("input[type="+q+"]");if(c={},b=a.query(h),a.isBlank(b))return c;for(o=a.query(d.join(","),b,!0),n=0,l=o.length;l>n;n++)f=o[n],g=f.getAttribute("name"),(g||"").length>0&&(c[g]=a.has(f,"value")?(p=(f.tagName||"").toLowerCase(),I.call(j,p)>=0?f.innerText:a.trim(f.value)):f.innerHTML);return c},x=function(a){var b,c,d,e;c=[];for(b in a)e=a[b],c.push(b);return d=new RegExp(c.join("|"),"ig"),function(b){return b.replace(d,function(b,c,d,e,f){var g;return g=a[b]||g})}},a.replacer=function(a){return new x(a)},v=function(b,c,d,e){var f,g;if(f=d||C,a.has(f,b)&&!e)throw new Error("the given module is exists. "+b);f[b]=c,a.isFunc(c)&&f.mixin&&(g={},g[b]=c,f.mixin(g))},a.register=function(){var b,c,d,e;if(c=1<=arguments.length?G.call(arguments,0):[],a.isJson(c[0])){d=c[0];for(b in d)e=d[b],v(b,e,c[1],c[2])}else v.apply(this,arguments)},a.unregister=function(a,b){delete(b||C)[a]},a.methodRegister=function(a,b,c,d){l(a,b,c,d)},B=function(b,c){return(a.isUndefined(c)?a.getToStringShowType():c)?b:""},a.asStr=function(a,b,c){return g(a,b||"",c||!1)},a.rmEvtProp=function(b,c){var d,e,g,h;if(g={},a.isObject(b)&&a.isJson(b))for(e in b)h=b[e],a.isEvent(h)?(d=B("[object event]: ")+h.type,c&&(g[e]=d),a.isInfoEnabled()&&(f.getC().info("The "+d+" from property '"+e+"' below is event detail:"),f.getC().info(h))):g[e]=h;return g},g=function(b,c,d){var e,f,h,j,k,l,m,n,o,p,q,r,s,t,u;switch(j=[],r=c||a.CRLF,q=a.type(b),m=a.type(b,!0)+": ",t=g,q){case i[11]:case i[7]:case i[10]:case i[2]:case i[5]:case i[6]:j.push(B(m,d)+b);break;case i[3]:case i[9]:j.push(B(m,d)+String(b));break;case i[4]:j.push(B(m,d)+(b.stack||b));break;case i[0]:case i[1]:for(q===i[0]&&(b=a.slice(b)),f=[],s=0,p=b.length;p>s;s++)u=b[s],f.push("object"==typeof u?t(u,r,!1):u);j.push(B(m,d)+"["+r+f.join(","+r)+r+"]");break;case i[8]:if(a.getToStringEvent()||(b=a.rmEvtProp(b,!0)),z.JSON&&a.isJson(b))try{e=[],j.push(JSON.stringify(b,function(a,b){if("object"==typeof b&&null!==b){if(-1!==e.indexOf(b))return;e.push(b)}return b}))}catch(v){l=v,a.warn(l.message,"JSON.stringify ERROR (ignorable)")}break;default:h=[];for(o in b)H.call(b,o)&&(u=b[o],/^HTML/.test(q)?(n="innerHTML",k="documentElement",a.has(u,n)?u=u+" "+u[n]:a.has(u,k)&&(u=u+" "+u[k])):u=a.isJson(u)?t(u):u,h.push(o+": "+u));j.push(B(m,d)+"{"+r+h.join(","+r)+r+"}")}return j.join(r)},t=function(b,c){return l(C,b,function(a,d,e,f){return k({name:b,level:c},a,d,e,f)}),l(C,b+"Enabled",function(){return f.getC()&&parseInt(c)>=parseInt(a.getLogger())},"is"),l(C,b+"Enabled",function(){return a.setLogger(s[b])},"set")};for(q in s)F=s[q],F!==s.none&&t(q,F);k=function(b,c,d,e,h){var i,j;i=f.getC(),i&&parseInt(b.level)>=parseInt(a.getLogger())&&i[b.name]&&(j=a.getLogPrefix(b.name)+(d?d+a.CRLF:"")+g(c,e,h),i[b.name].call(i,j))},a.console=function(b,c){return a.isNull(b)?(f.setC(!1),b):((!f.getC()||c)&&(a.isFunc(b)?f.setC({log:b,info:b,warn:b,error:b}):a.isObject(b)?f.setC(b):a.isUndefined(z.console)||f.setC(z.console)),f.getC())},a.getLoggerName=function(b){return b=b||a.getLogger(),a.getKey(s,parseInt(b)>s.none?s.none:b)},h=function(){var b,c,d,e;return e=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,c=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,d=/[^-+\dA-Z]/g,b=function(b,c){return a.prefix(b,c||2)},function(f,g,h){var i,j,k,l,m,n,o,p,q,r,s,t,u;if(a.isUndefined(g)&&a.isString(f)&&!/\d/.test(f)&&(g=f,f=void 0),q=a.getDateI18n(),o=a.getDateMask(),f=a.isBlank(f)?new Date:new Date(f),isNaN(f))throw SyntaxError("invalid date: "+f);return g=String(o[g]||g||o["default"]),"UTC:"===g.slice(0,4)&&(g=g.slice(4),h=!0),m=a.isBlank(h)?"get":"getUTC",n=f[m+"Date"](),i=f[m+"Day"](),r=f[m+"Month"](),u=f[m+"FullYear"](),j=f[m+"Hours"](),l=f[m+"Minutes"](),t=f[m+"Seconds"](),k=f[m+"Milliseconds"](),s=a.isBlank(h)?f.getTimezoneOffset():0,p={d:n,dd:b(n),ddd:q.day[i],dddd:q.day[i+7],m:r+1,mm:b(r+1),mmm:q.month[r],mmmm:q.month[r+12],yy:String(u).slice(2),yyyy:u,h:j%12||12,hh:b(j%12||12),H:j,HH:b(j),M:l,MM:b(l),s:t,ss:b(t),l:b(k,3),L:b(k>99?Math.round(k/10):k),t:12>j?"a":"p",tt:12>j?"am":"pm",T:12>j?"A":"P",TT:12>j?"AM":"PM",Z:h?"UTC":(String(f).match(c)||[""]).pop().replace(d,""),o:(s>0?"-":"+")+b(100*Math.floor(Math.abs(s)/60)+Math.abs(s)%60,4),S:["th","st","nd","rd"][n%10>3?0:(n%100-n%10!==10)*n%10]},g.replace(e,function(a){return a in p?p[a]:a.slice(1,a.length-1)})}},h=h(),a.addDateMask=function(b){return a.extend(u.dateMask,b||{})},a.dateFmt=function(a,b,c){return h(a,b,c)},a.keys=function(b,c){var d;if(null==c&&(c=function(){return!0}),a.isObject(b)&&Object.keys)return Object.keys(b);d=[];for(q in b)H.call(b,q)&&(F=b[q],c(F,q)&&d.push(q));return d},a.vals=function(b){var c,d,e,f,g,h;for(c=a.keys(b),d=c.length,h=new Array(d),g=[],f=0,e=c.length;e>f;f++)q=c[f],g.push(b[q]);return g},a.funcs=function(b){return a.keys(b,function(b){return a.isFunc(b)})},j=function(b,c){return a.prototype[b]=function(){var b;return b=[this._wrapped],Array.prototype.push.apply(b,arguments),y.call(this,c.apply(a,b))}},a.mixin=function(b){var c,d,e,f,g;for(g=a.funcs(b),f=0,d=g.length;d>f;f++)e=g[f],c=a[e]=b[e],j(e,c)},y=function(b){return this._chain?a(b).chain():b},a.mixin(a),a.chain=function(b){return a(b).chain()},a.prototype.chain=function(){return this._chain=!0,this},a.prototype.value=function(){return this._wrapped},function(a,b){var c;c=function(b,c,d){return a.dateFmt(c,b,d)},a.each(a.getDateMask(),function(b,d){a.methodRegister(c,d,function(c,d){return a.dateFmt(c,b,d)})}),a.register(b,c)}(C,"when"),function(a,b){var c,d;d=function(a,b){return e(a,b)},c={};var e=function f(a,b){var d=/\W/.test(a)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+a.replace(/[\r\t\n]/g," ").split("<%").join("	").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("	").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):c[a]=c[a]||f(document.getElementById(a).innerHTML);return b?d(b):d};a.register(b,d)}(C,"tmpl"),function(a,b){var c,d,e,f,g,h,i;f=function(a){return d(a)},f.reverse=function(a){return i(a)},f.highlight=function(a){return j(a)},e=function(a,b){return p[b-1]},g=function(a){return new Array(a+1).join("	")},h=function(b,c,d){var e,f,g,h;return g="",e=a.trim(b),f=e.split(c),f.length>0?(h=[],a.each(f,function(b,c){h.push(a.trim(b))}),g=h.join(d?"":c)):g=e,g},c=function(b){if(a.isBlank(b))return"{}";if(a.isString(b))return b;if(JSON&&a.isJson(b))return JSON.stringify(b);throw new Error("This browser JSON.stringify is unsupported.")},i=function(a){var b;return b=h(c(a),"\n"),b=h(b,"["),b=h(b,"]"),b=h(b,"{"),b=h(b,"}"),b=h(b,","),b=h(b,":")},f.style={".string":{color:"green"},".number":{color:"blue"},".boolean":{color:"darkorange"},".null":{color:"magenta"},".key":{color:"gray"}},f.toCSS=function(a){var b="";for(var c in a){b+=c+" {\n";for(var d in a[c])if("CSS-INHERIT-SELECTOR"==d)for(var e in a[a[c][d]])b+="	"+e+":"+a[a[c][d]][e]+";\n";else b+="	"+d+":"+a[c][d]+";\n";b+="}\n"}return b},f.addStyle=function(b,c){var d;c=c||"json_syntax",a.removeEl("#"+c),d=document,b=d.createElement("style"),b.type="text/css",b.id=c,b.innerHTML=a.isString(b)?b:f.toCSS(f.style),a.query("head").appendChild(b)};var j=function(a){return f.addStyle(),a=d(a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),a.replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)/g,function(a){var b="number";return/^"/.test(a)?b=/:$/.test(a)?"key":"string":/true|false/.test(a)?b="boolean":/null/.test(a)&&(b="null"),'<span class="'+b+'">'+a+"</span>"})};d=function(a){var b,d,f,h,j,k;if(JSON)return JSON.stringify(JSON.parse(c(a)),void 0,4);for(h="",f=0,a=i(c(a)),d=j=0,k=a.length;k>=0?k>j:j>k;d=k>=0?++j:--j)switch(b=a.charAt(d)){case"{":case"[":h+=b+"\n"+g(++f);break;case"}":case"]":h+="\n"+g(--f)+b;break;case",":h+=",\n"+g(f);break;case":":h+=": ";break;default:h+=b}return h=h.replace(/\[[\d,\s]+?\]/g,function(a){return a.replace(/\s/g,"")}).replace(/\\(\d+)\\/g,e).replace(/\\(\d+)\\/g,e)},a.register(b,f)}(C,"json"),function(a,b){"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=a:(z.kiwi=z[b]=a,"function"==typeof define&&define.amd&&define(b,[],function(){return a}),"function"==typeof define&&define.cmd&&define(function(c,d,e){d[b]=a}))}(C,"lemon")}).call(this); 
	!function(a,b,c){function d(a){return function(){var b=_a.slice.call(arguments,0);b.unshift(g),k.appendChild(g),g.addBehavior("#default#userData"),g.load(i);var c=a.apply(store,b);return k.removeChild(g),c}}function e(a){return a.replace(/^d/,"___$&").replace(n,"___")}var f={};f=function(a,c,d){if(b.isUndefined(c))return f.get(a);if(b.isNull(c)){var e=f.get(a);return f.remove(a),e}return f.set(a,c),c};var g,h=a.document,i="localStorage",j="script";if(f.isSupport=function(){try{return i in a&&a[i]}catch(b){return!1}},f.serialize=function(c){return a.JSON&&b.isJson(c)?JSON.stringify(c):c},f.deserialize=function(a){if("string"!=typeof a)return a||void 0;try{return JSON.parse(a)}catch(b){return a||void 0}},f.transact=function(a,b,c){var d=f.get(a);null==c&&(c=b,b=null),typeof d==_undef&&(d=b||{}),c(d),f.set(a,d)},f.exists=function(a){return null!=f.get(a)},f.keys=function(){var a=[];return $.each(f.getAll(),function(b,c){a.push(b)}),a},f.size=function(a,b){return f.keys().length},f.isSupport())g=a[i],f.set=function(a,b){return void 0===b?f.remove(a):(g.setItem(a,f.serialize(b)),b)},f.get=function(a){return f.deserialize(g.getItem(a))},f.remove=function(a){g.removeItem(a)},f.clear=function(){g.clear()},f.getAll=function(){var a={};return f.forEach(function(b,c){a[b]=c}),a},f.forEach=function(a){for(var b=0;b<g.length;b++){var c=g.key(b);a(c,f.get(c))}};else if(h.documentElement.addBehavior){var k,l;try{l=new ActiveXObject("htmlfile"),l.open(),l.write("<"+j+">document.w=window</"+j+'><iframe src="/favicon.ico"></iframe>'),l.close(),k=l.w.frames[0].document,g=k.createElement("div")}catch(m){g=h.createElement("div"),k=h.body}var n=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g");f.set=d(function(a,b,c){return b=e(b),void 0===c?f.remove(b):(a.setAttribute(b,f.serialize(c)),a.save(i),c)}),f.get=d(function(a,b){return b=e(b),f.deserialize(a.getAttribute(b))}),f.remove=d(function(a,b){b=e(b),a.removeAttribute(b),a.save(i)}),f.clear=d(function(a){var b=a.XMLDocument.documentElement.attributes;a.load(i);for(var c,d=0;c=b[d];d++)a.removeAttribute(c.name);a.save(i)}),f.getAll=function(a){var b={};return f.forEach(function(a,c){b[a]=c}),b},f.forEach=d(function(a,b){for(var c,d=a.XMLDocument.documentElement.attributes,e=0;c=d[e];++e)b(c.name,f.deserialize(a.getAttribute(c.name)))})}b.register(c,f)}(this,this.kiwi,"store"),function(a,b,c){var d={};d.pushState=window.history&&window.history.pushState&&window.history.replaceState&&!navigator.userAgent.match(/((iPod|iPhone|iPad).+\bOS\s+[1-4]|WebApps\/.+CFNetwork)/),d.store=b.store.isSupport()?!0:!1,b.register(c,d)}(this,this.kiwi,"support");
</script>
<style type="text/css">
    .fixed-panel { min-height: 430px; max-height: 430px; overflow-y: scroll; }
    .fixed-dropdown { min-height: 530px; max-height: 530px; overflow-y: scroll; max-width: 350px; }
    .block-grey { background-color: #e6e6e6; }
</style>
</head>
<body>

	<nav class="navbar navbar-default">
		<div class="container-fluid">
			<div class="navbar-header">
				<a class="navbar-brand" href="javascript:void(0);">51RP Manual
					API</a>
			</div>

			<div class="collapse navbar-collapse">
				<ul class="nav navbar-nav">
					<li class="dropdown"><a href="#" class="dropdown-toggle"
						data-toggle="dropdown" role="button" aria-expanded="false">Environment
							<span class="caret"></span>
					</a>
						<ul class="dropdown-menu" role="menu" id="which_env">
							<li><a href="#">Test</a></li>
							<li><a href="#">Product</a></li>
						</ul></li>
				</ul>
				<ul class="nav navbar-nav">
					<li class="dropdown"><a href="#" class="dropdown-toggle"
						data-toggle="dropdown" role="button" aria-expanded="false">Which
							API <span class="caret"></span>
					</a>
						<ul class="dropdown-menu fixed-dropdown" role="menu" id="which_api">
							<li><a href="#">api1</a></li>
							<li><a href="#">api2</a></li>
						</ul></li>
				</ul>
				<form class="navbar-form navbar-left" role="search">
					<div class="form-group">
						<input type="text" class="form-control" id="input_search" placeholder="Search API..">
					</div>
					<button type="submit" class="btn btn-default" id="btn_search">Search</button>
					<button type="submit" class="btn btn-default" id="btn_request">Request</button>
					<button type="submit" class="btn btn-default" id="btn_request_tab">Request In New Tab</button>
					<button type="submit" class="btn btn-default" id="btn_history">History</button>
				</form>
				<ul class="nav navbar-nav navbar-right">
				</ul>
			</div>
		</div>
	</nav>
	<div id="message"></div>

	<div class="row">
		<div class="col-md-6">
			<div class="panel panel-default">
				<div class="panel-heading">
					<!-- <h3 class="panel-title">Request </h3> -->
					Request
					<div class="btn-group btn-group-xs pull-right">
						<button type="button" class="btn btn-success" data-element="#request" data-toggle="modal" data-target="#modal_tpl">
						<span class="glyphicon glyphicon-tree-deciduous"></span></button>
						<button type="button" class="btn btn-success" data-element="both" data-toggle="modal" data-target="#modal_tpl">
						<span class="glyphicon glyphicon-eye-open"></span></button>
					</div>
				</div>
				<div class="panel-body">
					<form>
						<div class="form-group">
							<textarea class="form-control" rows="21" id="request"></textarea>
						</div>
					</form>

				</div>
				<!-- <div class="panel-footer"> </div> -->
			</div>
		</div>
		<div class="col-md-6">
			<div class="panel panel-default">
				<div class="panel-heading">
					Response
					<div class="btn-group btn-group-xs pull-right">
						<button type="button" class="btn btn-success" data-element="#response" data-toggle="modal" data-target="#modal_tpl">
						<span class="glyphicon glyphicon-leaf"></span></button>
						<button type="button" class="btn btn-success" data-element="both" data-toggle="modal" data-target="#modal_tpl">
						<span class="glyphicon glyphicon-eye-open"></span></button>
					</div>
				</div>
				<div class="panel-body">
					<form>
						<div class="form-group">
							<textarea class="form-control" rows="21" id="response"></textarea>
						</div>
					</form>
				</div>
			</div>
		</div>
	</div>
	
<div class="modal fade"  tabindex="-1" id="modal_tpl" role="dialog"></div>
	
<script type="text/html" id="table_tmpl">
<div class="panel panel-default">
  <!-- Default panel contents -->
  <!-- <div class="panel-heading">Panel heading</div> -->
  <%
	var clientW = document.body.clientWidth - 110;
    var panelH = document.body.clientHeight - 150;
  %>
  <div class="panel-body fixed-panel" style="height:<%=panelH%>px;max-height:<%=panelH%>px;">

	<% if (!lemon.isBlank(apis)) { %>
	<!-- Table -->
	<table class="table table-hover">
		<caption>API</caption>
        <thead> <tr> <th>#</th> <th>Request</th> </tr> </thead>
        <tbody>
		<% 
		   lemon.each(apis, function(v, k) {
				if (v && !lemon.isBlank(v.request)) {
		%>
		   <tr onclick="api.onSelect('<%= k %>')" id="<%= k %>">
            <th scope="row"><%= v.name %></th>
			<td>
			<blockquote style="width:<%=clientW - 50%>px;">
  				<p>
					<pre style="background-color:#ffffff;"><%= lemon.json.highlight(v.request) %></pre>
				</p>
				<footer><%= v.name %> <cite><%= v.desc %></cite></footer>
			</blockquote>
			</td>
          </tr>
		<% }}); %>
        </tbody>
     </table>
	<% } %>

  	<% if (!lemon.isBlank(histories)) { 
		var no = 1;
	%>
	<!-- Table -->
	<table class="table table-hover">
		<caption>History Request</caption>
        <thead> <tr> <th>#</th> <th>
			<button type="button" class="btn btn-default btn-xs" id="btn_tgl_requ">Request</button> 
			& <button type="button" class="btn btn-default btn-xs" id="btn_tgl_resp">Response</button></th></tr> </thead>
        <tbody>
		<% 
		   lemon.each(api.historySortDesc(histories), function(v, k) {
		%>
		   <tr onclick="api.onSelect('<%= v.k %>')" id="<%= v.k %>">
            <th scope="row"><%= no++ %></th>
            <td>
				<blockquote style="width:<%=clientW%>px;">
  					<p>
						<pre style="background-color:#ffffff;height:100%;" tgl-requ="tgl"><%= lemon.json.highlight(v.request) %></pre>
						<pre style="background-color:#ffffff;height:100%;" tgl-resp="tgl"><%= lemon.json.highlight(v.response) %></pre>
					</p>
					<%
						var env = api.env.which(v.interf);
						var envDesc = env.desc + '  ' + env.name;
						var theStyle = 'PRODUCT' === env.env ? 'danger' : 'success';
					%>
  					<footer><font class="text-<%= theStyle %>"><%= envDesc %></font></footer>
					<footer>
						<%= (v.name || '') + '  ' + v.api %> 
						<cite><code><font class="text-<%= theStyle %>"><%= v.interf %></font></code><%= ' ' + v.when %></cite>
					</footer>
				</blockquote>
			</td>
          </tr>
		<% }); %>
        </tbody>
     </table>
	<% } %>
  </div>
</div>
</script>

<script type="text/javascript">
	location.hash = 'api';
	lemon.console();
	lemon.getset({
		env: null,
		api: null
	});
	
	var api = api || {
		initialize: function() {
			this.env.render();
			this.cmd.render();
			this.nav.render();
			this.mod.render();
			$('#request').change(function() {
				try { $(this).val(lemon.json($(this).val())); } 
				catch (e) { lemon.warn(e, 'Can not parse JSON string.'); }
			});
		},
		nav: {
			render: function() {
				$('.dropdown-toggle').dropdown();
				$('[data-toggle="popover"]').popover({
					trigger:'hover',
					html:true
				}).on('show.bs.popover', function() { 
					$(this).data("bs.popover").tip().css({maxWidth: "600px"}); 
				});
				
				var $req = $('#btn_request');
				$req.click(function() {
					if (!api.chkRequest()) { return; }
					$req.button('loading');
					api.request(function(data) {
						$('#response').val(lemon.json(data));
						$req.button('reset');
					});
					
				});

				$('#btn_request_tab').click(function() {
					if (!api.chkRequest()) { return; }
					var param = api.getRequestData();
					var storeParam = lemon.clone(param);
					delete storeParam['admin_token'];
					lemon.store.set(api.uniqueId(), {
						when: lemon.when(),
						request: storeParam, 
						response: null,
						interf: lemon.getEnv()
					});
					window.open(lemon.getUrl(lemon.getEnv(), {data: lemon.json.reverse(param)}));
				});

				$('#input_search').focus(function() {
					if ($('#btn_search').hasClass('active')) {
						$('#btn_search').click();
					}
				});

				api.popoverOnBtn('#btn_search', function() {
					var key = $('#input_search').val();
					var justAllAPI = lemon.isBlank(key);

					var regEx = new RegExp(key);
					var apis = {};
					lemon.each(definedAPIs.items, function(v, k) {
						if (justAllAPI || regEx.test(v.api) || regEx.test(v.desc)) {
							apis['api_' + v.api] = {
								name: v.api,
								desc: v.desc,
								note: v.note,
								when: '',
								request: v.request,
								response: '',
								interf: ''
							}
						}
					});

					var histories = {};
					if (!justAllAPI) {
						lemon.store.forEach(function(k, v) {
							if (v && !lemon.isBlank(v.request)) {
								var desc = (api.getAPI(v.request.cmd) || {desc: ''}).desc;
								if (regEx.test(v.request.cmd) || regEx.test(desc)) {
									histories[k] = {
										when: v.when,
										request: v.request,
										response: v.response,
										interf: v.interf,
										name: desc
									};
								}
							}
						});
					}

					return lemon.tmpl($('#table_tmpl').html(), {histories: histories, apis: apis});
				}, { title: 'Search Result', trigger: 'click' } );

				api.popoverOnBtn("#btn_history", function() {
                    return lemon.tmpl($('#table_tmpl').html(), {histories: lemon.store.getAll(), apis: {}});
                }, { title: 'API History', trigger: 'click' } );

				/* api.nav.textarea('#request');
				api.nav.textarea('#response'); */
				$('#request,#response').css({
					border: '0px solid #ffffff'
				});
				api.nav.dblclick('#request');
				api.nav.dblclick('#response');
			},
			dblclick: function(selector) {
				//forbiden right click context menu
				$(selector).bind('contextmenu', function() { 
					return false; 
				});
				
				//$(selector).dblclick(function(event) {
				$(selector).mousedown(function(event) {
					//1 left 2 middle 3 right
					if (event.which == 3) {
						event.preventDefault();
						if (lemon.endWith(selector, '_view')) {
							api.nav.edit(selector);
						} else {
							api.nav.view(selector);
						}
					}
				});
			},
			textarea: function(selector, options) {
				api.popover(selector, function() {
					return [
						'<div class="btn-group btn-group-xs" role="group">',
						'<button type="button" class="btn btn-default" ',
						'onclick="api.nav.edit(\'' + selector + '\');">&nbsp;&nbsp;&nbsp;edit&nbsp;&nbsp;&nbsp;</button>',
						'<button type="button" class="btn btn-default" ',
						'onclick="api.nav.view(\'' + selector + '\');">&nbsp;&nbsp;&nbsp;view&nbsp;&nbsp;&nbsp;</button>',
						'</div>'
					].join('');
				}, lemon.extend({ 
					trigger: 'focus', placement: 'bottom' 
				}, options || {})).on('shown.bs.popover', function() { 
					var $parent = $(selector).parent();
					$parent.children('.popover').children('.arrow').removeClass('arrow');
					$parent.children('.popover').css({top: "-10px"});
				});
			},
			edit: function(elId) {
				if (lemon.endWith(elId, '_view')) {
					$(elId).popover('destroy').remove();
					$(lemon.rtrim(elId, '_view')).show();
				}
			},
			view: function(elId, reset) {
				if (lemon.endWith(elId, '_view')) {
					return;
				}

				var vid = elId + '_view';
				if (reset) {
					$(vid).remove();
				}
				
				var theVal = $(elId).val();
				if (lemon.isBlank(theVal)) {
					if (!reset) {
						return;
					}
				} else {
					try {
						JSON.parse(theVal);
					} catch (e) {
						lemon.warn(e, 'Can not parse JSON string');
						return;
					}
				}
				
				var height = $(elId).height() - 10;
				var width = $(elId).width();
				$(elId).hide();
				
				var html = [
					'<div class="panel panel-default" id="' + lemon.ltrim(vid, '#') + '" style="height:' + height + 'px;width:' + width + 'px;border:0px solid #ffffff;">',
					'<div class="panel-body"><pre style="border:0px solid #ffffff;background-color:#ffffff;height:' + (height - 20) + 'px;">',
					lemon.json.highlight(theVal),
					'</pre></div></div>'
				].join('');
				$(elId).parent().append(html);
				api.nav.dblclick(vid, {
					trigger: 'click'
				});
			},
		},
		historySortDesc: function(histories) {
			var items = [];
			lemon.each(histories, function(v, k) {
				if (v && !lemon.isBlank(v.request)) {
					v.k = k;
					v.api = v.request.cmd;
					items.push(v)
				}
			});
			return items.sort(function(a, b) {
				return b.k - a.k;
			});
		},
		popoverOnBtn: function(selector, content, options) {
			api.popover(selector, content, options)
			  .on('show.bs.popover', function() { 
				$(this).data("bs.popover").tip().css({maxWidth: "100%"});
				$(selector).button('toggle');
			}).on('hide.bs.popover', function() {
				$(selector).button('toggle');
			}).on('shown.bs.popover', function() {
				$('#btn_tgl_requ').click(function() {
					$(this).button('toggle');
                	$('[tgl-requ="tgl"]').fadeToggle("slow", "linear");
				});
				$('#btn_tgl_resp').click(function() {
					$(this).button('toggle');
                	$('[tgl-resp="tgl"]').fadeToggle("slow", "linear");
                });
			});
		},
		popover: function(selector, content, options) {
			var popoverTemplate = [
           		'<div class="popover" role="tooltip">',
           		'<div class="arrow"></div>',
           		'<h3 class="popover-title"></h3>',
           		'<div class="popover-content"></div>',
           		'</div>'
            ].join('');
            
			var thePopover = $(selector).popover(lemon.extend({
                title: '',
                trigger: 'click',
                content: content,
                template: popoverTemplate,
                placement: "bottom",
                html: true
            }, options || {}))
            
			return thePopover;
		},
		uniqueId: function() {
			var historySize = 500;
			var maxId = lemon.store.set('last', parseInt(lemon.store.get('last') || 0) + 1)
			if (maxId >= historySize) {
				lemon.store.forEach(function(k) {
					if (k <= (maxId - historySize + 1)) {
						lemon.store(k, null);
					}
				});
			}
			return maxId;
		},
		chkRequest: function() {
			if (null == lemon.getEnv()) {
				api.msg('warning', 'Choose environment first!');
				return false;
			}

			if (lemon.isBlank($('#request').val())) {
				api.msg('warning', 'Choose or define API first!');
				return false;
			}

			if (api.env.isProduct()) {
				var toBeContinue = confirm('Are you sure?\nProduct Environment!');
				if (!toBeContinue) {
					return false;
				}
			}
			
			return true;
		},
		getRequestData: function() {
			var request = $.parseJSON($('#request').val() || {});
			if (lemon.getEnv().indexOf('rpd-manager') > 0) {
				request['admin_token'] = '9VHmAsYNPUDCO0Il6a4Yec9VHmAsYNPUBHw9G';
			}

			return request;
		},
		getHoverOrSelectItem: function(key) {
			var result = {};
			if (lemon.isUndefined(key)) {
				return result;
			}
			
			if (lemon.startWith(key, 'api_')) {
				result = api.getAPI(key.replace('api_', ''));
			} else {
				result = lemon.store(key) || {};
			}

			return result;
		},
		getAPI: function(theAPI) {
			var result = {};
			lemon.each(definedAPIs.items, function(v, k) {
				if (v.api === theAPI) {
					result = v;
					return false;
				}
			});
			return result;
		},
		onSelect: function(key) {
			var item = api.getHoverOrSelectItem(key);
			if (!lemon.isBlank(item)) {
				if (lemon.startWith(key, 'api_')) {
					$('#request').val(lemon.json(item.request || {}));
					$('#response').val(item.response);
					$("#btn_search").click();
				} else {
					$('#request').val(lemon.json(item.request || {}));
					$('#response').val(lemon.json(item.response || {}));
					lemon.setEnv(item.interf);
					api.env.change(item.interf);
					if ($('#btn_history').hasClass('active')) {
						$('#btn_history').click();
					}
					if ($('#btn_search').hasClass('active')) {
						$('#btn_search').click();
					}
				}
				if (!$('#request:visible').length) {
					api.nav.view('#request', true);
				}
				api.nav.view('#response', true);
			}
		},
		request: function(success) {
			var request = api.getRequestData();
			lemon.info(request, 'request');
			$.ajax({  
	             type: "get",  
	             async: false,  
	             url: lemon.getEnv(),  
	             data: {data : lemon.json.reverse(request)},
	             dataType: "jsonp" 
	         }).done(function(data, textStatus, jqXHR) {
            	 lemon.info(textStatus, 'request status');
            	 lemon.info(data, 'response');
            	 var storeParam = lemon.clone(request);
				 delete storeParam['admin_token'];
            	 lemon.store.set(api.uniqueId(), {
     				when: lemon.when(),
     				request: storeParam, 
     				response: data,
     				interf: lemon.getEnv(),
     				name: api.getAPI(storeParam.cmd).desc
     			 });
		         success && success(data);
		         api.nav.view('#response', true);
		     }).fail(function(jqXHR, textStatus, errorThrown){  
            	 lemon.error(jqXHR);
            	 lemon.error(textStatus, 'request status');
            	 lemon.error(errorThrown);
            	 $('#response').val(textStatus);
            	 $('#btn_request').button('reset');
             });
		},
		msg: function(type, text, title) {
			var msg = $(document.createElement('div')).attr({
				class: 'alert alert-' + type || 'info',
				role: 'alert',
				env: title,
				id: 'msg_id'
			}).text(text);
			$('#message').empty().append(msg).popover({
				content: function() {
					return $('#msg_id').attr('env');
				},
				placement: 'bottom',
				trigger: 'hover'
			}).on('show.bs.popover', function() { 
				$(this).data("bs.popover").tip().css({maxWidth: "800px"});
			});
			return msg;
		},
		env: {
			render: function() {
				var $env = $('#which_env'); $env.empty();
				
				lemon.each(definedServs, function(v, k) {
					var title = $(document.createElement('li')).attr({ 
						role:'presentation', 
						class:'dropdown-header' 
					}).text(v.desc);
					
					var presentation = $(document.createElement('li')).attr({ 
						role:'presentation', 
						class:'divider' 
					});
					$env.append(presentation).append(title);
					
					var envType = v.env;
					var envDesc = v.desc;
					lemon.each(v.serv, function(v, k) {
						envDesc = envDesc + '   ' + v.name;
						var href = $(document.createElement('a')).text(v.name);
						if (v.asDefault && 1 === v.asDefault) {
							href.attr({id: 'default_env'});
						}
						href.click(function() {
							lemon.setEnv(v.interf);
							api.env.change(v.interf);
						});
						var aEnv = $(document.createElement('li')).append(href);
						$env.append(aEnv);
					});
				});

				$('#default_env').click();
			},
			change: function(interf) {
				var env = api.env.which(interf);
				var desc = env.desc + '  ' + env.name;
				switch(env.env) {
				case 'TEST': 
					api.msg('success', desc , interf);
					break;
				case 'PRODUCT':
					api.msg('danger', desc, interf)
						.append('&nbsp;&nbsp;&nbsp;&nbsp;<strong>Danger !!!</strong>');
					break;
				}
			},
			isProduct: function(interf) {
				return api.env.is(interf, 'PRODUCT');
			},
			is: function(interf, envEnum, envType) {
				return envEnum === (api.env.which(interf || lemon.getEnv(), envType) || {env: ''}).env;
			},
			which: function(interf, envType) {
				var result = {};
				lemon.each(definedServs, function(v, k) {
					lemon.each(v.serv, function(v1, k1) {
						if (v1.interf === interf) {
							var tmp = {
								env: v.env,
								desc: v.desc,
								type: v1.type,
								interf: v1.interf,
								name: v1.name
							};
							if (lemon.isUndefined(envType)) {
								result = tmp;
								return false;
							} else if (envType === tmp.type) {
								result = tmp;
								return false;
							}
						}
					});
				});
				return result;
			}
		},
		cmd: {
			render: function() {
				var $cmd = $('#which_api'); $cmd.empty();
				lemon.each(definedServs[0].serv, function(serv, k) {
					var title = $(document.createElement('li')).attr({ 
						role:'presentation', 
						class:'dropdown-header',
					}).text(serv.name);
					
					var presentation = $(document.createElement('li')).attr({ 
						role:'presentation', 
						class:'divider' 
					});
					$cmd.append(presentation).append(title);

					lemon.each(definedAPIs.items, function(item, k) {
						if (serv.type === item.type) {
							var dropItem = [
								'<h5>' + item.api + '</h5>',
								'<h6 class="text-muted" style="width:200px;">' + item.desc + '</h6>'
							].join('');
							
							var href = $(document.createElement('blockquote')).attr({
								'style': 'width:300px;',
								'data-container': 'body',
								'data-toggle': 'popover',
								'data-placement': 'right',
								'data-content': '<pre style="width:500px;background-color:#ffffff;">' + lemon.json.highlight(item.request) + '</pre>',
								title: item.api + ' ' + item.desc
							}).append(dropItem);

							href.click(function() {
								lemon.setApi(item.api);
								$('#request').val(lemon.json(item.request));
							});

							var anApi = $(document.createElement('li')).append(href);
							$cmd.append(anApi);
						}
					});
				});

				$('#which_api blockquote').hover(function(){  
					$(this). addClass('block-grey');   
				},function(){  
					$(this). removeClass('block-grey');   
				});
			}
		},
		mod: {
			render: function() {
				$('#modal_tpl').on('show.bs.modal', function (event) {
				  	var button = $(event.relatedTarget);
				  	var modal = $(this); modal.empty();
				  	api.mod.currentTriggerId = button.data('element');
				  	var heightOffset = 13;
				  	
				  	if ('both' == api.mod.currentTriggerId) {
				  		/* var zoominRequest = $(document.createElement('textarea')).attr({
						  	id: 'edit-area-requ'
						}).css({
						  	height: document.body.clientHeight - heightOffset,
							width: document.body.clientWidth / 2
						}).text($('#request').val());
						
				  		var zoominResponse = $(document.createElement('textarea')).attr({
						  	id: 'edit-area-resp'
						}).css({
						  	height: document.body.clientHeight - heightOffset,
							width: document.body.clientWidth / 2
						}).text($('#response').val()); */

				  		var h = document.body.clientHeight - heightOffset;
				  		var w = document.body.clientWidth / 2;
				  		
				  		var html = [
					  			'<div class="row">',
								'<div class="col-md-6">',
								'<textarea id="edit-area-requ" style="border:0px solid #ffffff;height:' + h + 'px;width:' + w + 'px">' + $('#request').val() + '</textarea>',
								'</div>',
								'<div class="col-md-6" style="padding-left: 0px;">',
								'<textarea id="edit-area-resp" style="border:0px solid #ffffff;height:' + h + 'px;width:' + w + 'px">' + $('#response').val() + '</textarea>',
								'</div>',
								'</div>'
							].join('');
						modal.append(html);

						api.nav.dblclick('#edit-area-requ');
						api.nav.view('#edit-area-requ');
						api.nav.dblclick('#edit-area-resp');
						api.nav.view('#edit-area-resp');
					} else {
					  	var zoomin = $(document.createElement('textarea')).attr({
						  	id: 'edit-area'
						}).css({
							border: '0px solid #ffffff',
						  	height: document.body.clientHeight - heightOffset,
							width: document.body.clientWidth
						}).text($(api.mod.currentTriggerId).val());
						modal.append(zoomin);

						api.nav.dblclick('#edit-area');
						api.nav.view('#edit-area');
					}
				}).on('hide.bs.modal', function(event) {
					if ('both' == api.mod.currentTriggerId) {
						$('#request').val($('#edit-area-requ').val());
						$('#response').val($('#edit-area-resp').val());
						api.nav.view('#request', true);
						api.nav.view('#response', true);
					} else {
					  	$(api.mod.currentTriggerId).val($('#edit-area').val());
					}
				});
			},
			currentTriggerId: null
		}
	};

	$(function(){ api.initialize(); });

	var interf = {
		manager: 1,
		appapi: 2,
		enterprise: 3
	};

	var definedServs = [
	    {
		    env: 'TEST',
		    desc: "Test Environment",
		    serv: [
				{
					type: interf.manager,
					interf: "http://192.168.2.151:8080/rpd-manager/xv1.rp",
					name: "Manager API",
					asDefault: 1	//默认环境
				},
				{
					type: interf.appapi,
					interf: "http://192.168.2.151:8080/rpdservice/xv3.htm",
					name: "App API"
				},
				{
					type: interf.enterprise,
					interf: "http://192.168.2.151:8080/rpdservice/ev1web.htm",
					name: "Enterprise API"
				}
			]
		},
		{
		    env: 'PRODUCT',
		    desc: "Product Environment",
		    serv: [
				{
					type: interf.manager,
					interf: "https://www.xx.com/rpd-manager/xv1.rp",
					name: "Manager API"
				},
				{
					type: interf.appapi,
					interf: "https://www.xx.com/xx/rpdservice/xv3.htm",
					name: "App API"
				},
				{
					type: interf.enterprise,
					interf: "https://www.xx.com/xx/rpdservice/ev1web.htm",
					name: "Enterprise API"
				}
			]
		}
	];

	var definedAPIs = {
		items: [
			 {
				 api:"M000913",
				 desc:"user",
				 note:"",
				 type: interf.manager,
				 request:{"cmd":"M000913","userId":"1","token":"","version":"1.0.0","data":{"name":"name","mobile":"mobile"}}
			 }
		]
	};

</script>
</body>
</html>