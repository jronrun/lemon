!function(a,b,c){function d(a,c){this.maxSize_=a||-1,this.storage_=c||b.store,this.fillFactor_=.75,this.stats_={},this.stats_.hits=0,this.stats_.misses=0,b.info("Initialized cache with size "+this.maxSize_)}var e=function(a,b){return new d(a,b)};a.CachePriority={LOW:1,NORMAL:2,HIGH:4},d.BasicCacheStorage=function(){this.items_={},this.count_=0},d.BasicCacheStorage.prototype.get=function(a){return this.items_[a]},d.BasicCacheStorage.prototype.set=function(a,b){"undefined"==typeof this.get(a)&&this.count_++,this.items_[a]=b},d.BasicCacheStorage.prototype.size=function(a,b){return this.count_},d.BasicCacheStorage.prototype.remove=function(a){var b=this.get(a);return"undefined"!=typeof b&&this.count_--,delete this.items_[a],b},d.BasicCacheStorage.prototype.keys=function(){var a=[],b=null;for(b in this.items_)a.push(b);return a},d.prototype.get=function(a){var c=this.storage_.get(a);null!=c&&(this.isExpired_(c)?(this.remove(a),c=null):c.lastAccessed=b.now());var d=c?c.value:null;return d?this.stats_.hits++:this.stats_.misses++,d},d._CacheItem=function(a,c,d){if(!a)throw new Error("key cannot be null or empty");this.key=a,this.value=c,d=d||{},d.expirationAbsolute&&(d.expirationAbsolute=d.expirationAbsolute.getTime()),d.priority||(d.priority=CachePriority.NORMAL),this.options=d,this.lastAccessed=b.now()},d.prototype.setItem=function(a,b,c){if(null!=this.storage_.get(a)&&this.remove(a),this.addItem_(new d._CacheItem(a,b,c)),this.maxSize_>0&&this.size()>this.maxSize_){var e=this;setTimeout(function(){e.purge_.call(e)},0)}},d.prototype.set=function(a,c,d,e){if(b.isJson(d))return void this.setItem(a,c,d);var f={};b.isDate(d)?f={expirationAbsolute:d}:b.isNumber(d)?f={expirationSliding:d}:b.isFunc(d)&&(f={callback:d}),e&&$.extend(f,{priority:e}),this.setItem(a,c,f)},d.prototype.clear=function(){for(var a=this.storage_.keys(),b=0;b<a.length;b++)this.remove(a[b])},d.prototype.getStats=function(){return this.stats_},d.prototype.resize=function(a){var b=this.maxSize_;this.maxSize_=a,a>0&&(0>b||b>a)&&this.size()>a&&this.purge_()},d.prototype.purge_=function(){var a=new Array,b=Math.round(this.maxSize_*this.fillFactor_);this.maxSize_<0&&(b=this.size()*this.fillFactor_);for(var c=this.storage_.keys(),d=0;d<c.length;d++){var e=c[d],f=this.storage_.get(e);this.isExpired_(f)?this.remove(e):a.push(f)}if(a.length>b)for(a=a.sort(function(a,b){return a.options.priority!=b.options.priority?b.options.priority-a.options.priority:b.lastAccessed-a.lastAccessed});a.length>b;){var g=a.pop();this.remove(g.key)}},d.prototype.addItem_=function(a,c){try{this.storage_.set(a.key,a)}catch(d){if(c)throw b.info("Failed setting again, giving up: "+d.toString()),d;b.info("Error adding item, purging and trying again: "+d.toString()),this.purge_(),this.addItem_(a,!0)}},d.prototype.remove=function(a){var b=this.storage_.remove(a);return b&&b.options&&b.options.callback&&setTimeout(function(){b.options.callback.call(null,b.key,b.value)},0),b?b.value:null},d.prototype.removeWhere=function(a){for(var b=this.storage_.keys(),c=0;c<b.length;c++){var d=b[c],e=this.storage_.get(d);a(d,e.value)===!0&&this.remove(d)}},d.prototype.size=function(){return this.storage_.size()},d.prototype.isExpired_=function(a){var c=b.now(),d=!1;if(a.options.expirationAbsolute&&a.options.expirationAbsolute<c&&(d=!0),!d&&a.options.expirationSliding){var e=a.lastAccessed+1e3*a.options.expirationSliding;c>e&&(d=!0)}return d},b.register(c,e),b.register("newMemCache",function(a){return b.newCache(a,new d.BasicCacheStorage)})}(this,this.kiwi,"newCache"),!function(a,b,c){function d(a,c){this.maxSize_=a||-1,this.storage_=c||b.store,this.fillFactor_=.75,this.stats_={},this.stats_.hits=0,this.stats_.misses=0,b.info("Initialized cache with size "+this.maxSize_)}var e=function(a,b){return new d(a,b)};a.CachePriority={LOW:1,NORMAL:2,HIGH:4},d.BasicCacheStorage=function(){this.items_={},this.count_=0},d.BasicCacheStorage.prototype.get=function(a){return this.items_[a]},d.BasicCacheStorage.prototype.set=function(a,b){"undefined"==typeof this.get(a)&&this.count_++,this.items_[a]=b},d.BasicCacheStorage.prototype.size=function(a,b){return this.count_},d.BasicCacheStorage.prototype.remove=function(a){var b=this.get(a);return"undefined"!=typeof b&&this.count_--,delete this.items_[a],b},d.BasicCacheStorage.prototype.keys=function(){var a=[],b=null;for(b in this.items_)a.push(b);return a},d.prototype.get=function(a){var c=this.storage_.get(a);null!=c&&(this.isExpired_(c)?(this.remove(a),c=null):c.lastAccessed=b.now());var d=c?c.value:null;return d?this.stats_.hits++:this.stats_.misses++,d},d._CacheItem=function(a,c,d){if(!a)throw new Error("key cannot be null or empty");this.key=a,this.value=c,d=d||{},d.expirationAbsolute&&(d.expirationAbsolute=d.expirationAbsolute.getTime()),d.priority||(d.priority=CachePriority.NORMAL),this.options=d,this.lastAccessed=b.now()},d.prototype.setItem=function(a,b,c){if(null!=this.storage_.get(a)&&this.remove(a),this.addItem_(new d._CacheItem(a,b,c)),this.maxSize_>0&&this.size()>this.maxSize_){var e=this;setTimeout(function(){e.purge_.call(e)},0)}},d.prototype.set=function(a,c,d,e){if(b.isJson(d))return void this.setItem(a,c,d);var f={};b.isDate(d)?f={expirationAbsolute:d}:b.isNumber(d)?f={expirationSliding:d}:b.isFunc(d)&&(f={callback:d}),e&&$.extend(f,{priority:e}),this.setItem(a,c,f)},d.prototype.clear=function(){for(var a=this.storage_.keys(),b=0;b<a.length;b++)this.remove(a[b])},d.prototype.getStats=function(){return this.stats_},d.prototype.resize=function(a){var b=this.maxSize_;this.maxSize_=a,a>0&&(0>b||b>a)&&this.size()>a&&this.purge_()},d.prototype.purge_=function(){var a=new Array,b=Math.round(this.maxSize_*this.fillFactor_);this.maxSize_<0&&(b=this.size()*this.fillFactor_);for(var c=this.storage_.keys(),d=0;d<c.length;d++){var e=c[d],f=this.storage_.get(e);this.isExpired_(f)?this.remove(e):a.push(f)}if(a.length>b)for(a=a.sort(function(a,b){return a.options.priority!=b.options.priority?b.options.priority-a.options.priority:b.lastAccessed-a.lastAccessed});a.length>b;){var g=a.pop();this.remove(g.key)}},d.prototype.addItem_=function(a,c){try{this.storage_.set(a.key,a)}catch(d){if(c)throw b.info("Failed setting again, giving up: "+d.toString()),d;b.info("Error adding item, purging and trying again: "+d.toString()),this.purge_(),this.addItem_(a,!0)}},d.prototype.remove=function(a){var b=this.storage_.remove(a);return b&&b.options&&b.options.callback&&setTimeout(function(){b.options.callback.call(null,b.key,b.value)},0),b?b.value:null},d.prototype.removeWhere=function(a){for(var b=this.storage_.keys(),c=0;c<b.length;c++){var d=b[c],e=this.storage_.get(d);a(d,e.value)===!0&&this.remove(d)}},d.prototype.size=function(){return this.storage_.size()},d.prototype.isExpired_=function(a){var c=b.now(),d=!1;if(a.options.expirationAbsolute&&a.options.expirationAbsolute<c&&(d=!0),!d&&a.options.expirationSliding){var e=a.lastAccessed+1e3*a.options.expirationSliding;c>e&&(d=!0)}return d},b.register(c,e),b.register("newMemCache",function(a){return b.newCache(a,new d.BasicCacheStorage)})}(this,this.kiwi,"newCache"),!function(a,b,c){function d(a,c){this.maxSize_=a||-1,this.storage_=c||b.store,this.fillFactor_=.75,this.stats_={},this.stats_.hits=0,this.stats_.misses=0,b.info("Initialized cache with size "+this.maxSize_)}var e=function(a,b){return new d(a,b)};a.CachePriority={LOW:1,NORMAL:2,HIGH:4},d.BasicCacheStorage=function(){this.items_={},this.count_=0},d.BasicCacheStorage.prototype.get=function(a){return this.items_[a]},d.BasicCacheStorage.prototype.set=function(a,b){"undefined"==typeof this.get(a)&&this.count_++,this.items_[a]=b},d.BasicCacheStorage.prototype.size=function(a,b){return this.count_},d.BasicCacheStorage.prototype.remove=function(a){var b=this.get(a);return"undefined"!=typeof b&&this.count_--,delete this.items_[a],b},d.BasicCacheStorage.prototype.keys=function(){var a=[],b=null;for(b in this.items_)a.push(b);return a},d.prototype.get=function(a){var c=this.storage_.get(a);null!=c&&(this.isExpired_(c)?(this.remove(a),c=null):c.lastAccessed=b.now());var d=c?c.value:null;return d?this.stats_.hits++:this.stats_.misses++,d},d._CacheItem=function(a,c,d){if(!a)throw new Error("key cannot be null or empty");this.key=a,this.value=c,d=d||{},d.expirationAbsolute&&(d.expirationAbsolute=d.expirationAbsolute.getTime()),d.priority||(d.priority=CachePriority.NORMAL),this.options=d,this.lastAccessed=b.now()},d.prototype.setItem=function(a,b,c){if(null!=this.storage_.get(a)&&this.remove(a),this.addItem_(new d._CacheItem(a,b,c)),this.maxSize_>0&&this.size()>this.maxSize_){var e=this;setTimeout(function(){e.purge_.call(e)},0)}},d.prototype.set=function(a,c,d,e){if(b.isJson(d))return void this.setItem(a,c,d);var f={};b.isDate(d)?f={expirationAbsolute:d}:b.isNumber(d)?f={expirationSliding:d}:b.isFunc(d)&&(f={callback:d}),e&&$.extend(f,{priority:e}),this.setItem(a,c,f)},d.prototype.clear=function(){for(var a=this.storage_.keys(),b=0;b<a.length;b++)this.remove(a[b])},d.prototype.getStats=function(){return this.stats_},d.prototype.resize=function(a){var b=this.maxSize_;this.maxSize_=a,a>0&&(0>b||b>a)&&this.size()>a&&this.purge_()},d.prototype.purge_=function(){var a=new Array,b=Math.round(this.maxSize_*this.fillFactor_);this.maxSize_<0&&(b=this.size()*this.fillFactor_);for(var c=this.storage_.keys(),d=0;d<c.length;d++){var e=c[d],f=this.storage_.get(e);this.isExpired_(f)?this.remove(e):a.push(f)}if(a.length>b)for(a=a.sort(function(a,b){return a.options.priority!=b.options.priority?b.options.priority-a.options.priority:b.lastAccessed-a.lastAccessed});a.length>b;){var g=a.pop();this.remove(g.key)}},d.prototype.addItem_=function(a,c){try{this.storage_.set(a.key,a)}catch(d){if(c)throw b.info("Failed setting again, giving up: "+d.toString()),d;b.info("Error adding item, purging and trying again: "+d.toString()),this.purge_(),this.addItem_(a,!0)}},d.prototype.remove=function(a){var b=this.storage_.remove(a);return b&&b.options&&b.options.callback&&setTimeout(function(){b.options.callback.call(null,b.key,b.value)},0),b?b.value:null},d.prototype.removeWhere=function(a){for(var b=this.storage_.keys(),c=0;c<b.length;c++){var d=b[c],e=this.storage_.get(d);a(d,e.value)===!0&&this.remove(d)}},d.prototype.size=function(){return this.storage_.size()},d.prototype.isExpired_=function(a){var c=b.now(),d=!1;if(a.options.expirationAbsolute&&a.options.expirationAbsolute<c&&(d=!0),!d&&a.options.expirationSliding){var e=a.lastAccessed+1e3*a.options.expirationSliding;c>e&&(d=!0)}return d},b.register(c,e),b.register("newMemCache",function(a){return b.newCache(a,new d.BasicCacheStorage)})}(this,this.kiwi,"newCache"),!function(a,b,c){function d(a,c){this.maxSize_=a||-1,this.storage_=c||b.store,this.fillFactor_=.75,this.stats_={},this.stats_.hits=0,this.stats_.misses=0,b.info("Initialized cache with size "+this.maxSize_)}var e=function(a,b){return new d(a,b)};a.CachePriority={LOW:1,NORMAL:2,HIGH:4},d.BasicCacheStorage=function(){this.items_={},this.count_=0},d.BasicCacheStorage.prototype.get=function(a){return this.items_[a]},d.BasicCacheStorage.prototype.set=function(a,b){"undefined"==typeof this.get(a)&&this.count_++,this.items_[a]=b},d.BasicCacheStorage.prototype.size=function(a,b){return this.count_},d.BasicCacheStorage.prototype.remove=function(a){var b=this.get(a);return"undefined"!=typeof b&&this.count_--,delete this.items_[a],b},d.BasicCacheStorage.prototype.keys=function(){var a=[],b=null;for(b in this.items_)a.push(b);return a},d.prototype.get=function(a){var c=this.storage_.get(a);null!=c&&(this.isExpired_(c)?(this.remove(a),c=null):c.lastAccessed=b.now());var d=c?c.value:null;return d?this.stats_.hits++:this.stats_.misses++,d},d._CacheItem=function(a,c,d){if(!a)throw new Error("key cannot be null or empty");this.key=a,this.value=c,d=d||{},d.expirationAbsolute&&(d.expirationAbsolute=d.expirationAbsolute.getTime()),d.priority||(d.priority=CachePriority.NORMAL),this.options=d,this.lastAccessed=b.now()},d.prototype.setItem=function(a,b,c){if(null!=this.storage_.get(a)&&this.remove(a),this.addItem_(new d._CacheItem(a,b,c)),this.maxSize_>0&&this.size()>this.maxSize_){var e=this;setTimeout(function(){e.purge_.call(e)},0)}},d.prototype.set=function(a,c,d,e){if(b.isJson(d))return void this.setItem(a,c,d);var f={};b.isDate(d)?f={expirationAbsolute:d}:b.isNumber(d)?f={expirationSliding:d}:b.isFunc(d)&&(f={callback:d}),e&&$.extend(f,{priority:e}),this.setItem(a,c,f)},d.prototype.clear=function(){for(var a=this.storage_.keys(),b=0;b<a.length;b++)this.remove(a[b])},d.prototype.getStats=function(){return this.stats_},d.prototype.resize=function(a){var b=this.maxSize_;this.maxSize_=a,a>0&&(0>b||b>a)&&this.size()>a&&this.purge_()},d.prototype.purge_=function(){var a=new Array,b=Math.round(this.maxSize_*this.fillFactor_);this.maxSize_<0&&(b=this.size()*this.fillFactor_);for(var c=this.storage_.keys(),d=0;d<c.length;d++){var e=c[d],f=this.storage_.get(e);this.isExpired_(f)?this.remove(e):a.push(f)}if(a.length>b)for(a=a.sort(function(a,b){return a.options.priority!=b.options.priority?b.options.priority-a.options.priority:b.lastAccessed-a.lastAccessed});a.length>b;){var g=a.pop();this.remove(g.key)}},d.prototype.addItem_=function(a,c){try{this.storage_.set(a.key,a)}catch(d){if(c)throw b.info("Failed setting again, giving up: "+d.toString()),d;b.info("Error adding item, purging and trying again: "+d.toString()),this.purge_(),this.addItem_(a,!0)}},d.prototype.remove=function(a){var b=this.storage_.remove(a);return b&&b.options&&b.options.callback&&setTimeout(function(){b.options.callback.call(null,b.key,b.value)},0),b?b.value:null},d.prototype.removeWhere=function(a){for(var b=this.storage_.keys(),c=0;c<b.length;c++){var d=b[c],e=this.storage_.get(d);a(d,e.value)===!0&&this.remove(d)}},d.prototype.size=function(){return this.storage_.size()},d.prototype.isExpired_=function(a){var c=b.now(),d=!1;if(a.options.expirationAbsolute&&a.options.expirationAbsolute<c&&(d=!0),!d&&a.options.expirationSliding){var e=a.lastAccessed+1e3*a.options.expirationSliding;c>e&&(d=!0)}return d},b.register(c,e),b.register("newMemCache",function(a){return b.newCache(a,new d.BasicCacheStorage)})}(this,this.kiwi,"newCache"),!function(a,b,c){function d(a,c){this.maxSize_=a||-1,this.storage_=c||b.store,this.fillFactor_=.75,this.stats_={},this.stats_.hits=0,this.stats_.misses=0,b.info("Initialized cache with size "+this.maxSize_)}var e=function(a,b){return new d(a,b)};a.CachePriority={LOW:1,NORMAL:2,HIGH:4},d.BasicCacheStorage=function(){this.items_={},this.count_=0},d.BasicCacheStorage.prototype.get=function(a){return this.items_[a]},d.BasicCacheStorage.prototype.set=function(a,b){"undefined"==typeof this.get(a)&&this.count_++,this.items_[a]=b},d.BasicCacheStorage.prototype.size=function(a,b){return this.count_},d.BasicCacheStorage.prototype.remove=function(a){var b=this.get(a);return"undefined"!=typeof b&&this.count_--,delete this.items_[a],b},d.BasicCacheStorage.prototype.keys=function(){var a=[],b=null;for(b in this.items_)a.push(b);return a},d.prototype.get=function(a){var c=this.storage_.get(a);null!=c&&(this.isExpired_(c)?(this.remove(a),c=null):c.lastAccessed=b.now());var d=c?c.value:null;return d?this.stats_.hits++:this.stats_.misses++,d},d._CacheItem=function(a,c,d){if(!a)throw new Error("key cannot be null or empty");this.key=a,this.value=c,d=d||{},d.expirationAbsolute&&(d.expirationAbsolute=d.expirationAbsolute.getTime()),d.priority||(d.priority=CachePriority.NORMAL),this.options=d,this.lastAccessed=b.now()},d.prototype.setItem=function(a,b,c){if(null!=this.storage_.get(a)&&this.remove(a),this.addItem_(new d._CacheItem(a,b,c)),this.maxSize_>0&&this.size()>this.maxSize_){var e=this;setTimeout(function(){e.purge_.call(e)},0)}},d.prototype.set=function(a,c,d,e){if(b.isJson(d))return void this.setItem(a,c,d);var f={};b.isDate(d)?f={expirationAbsolute:d}:b.isNumber(d)?f={expirationSliding:d}:b.isFunc(d)&&(f={callback:d}),e&&$.extend(f,{priority:e}),this.setItem(a,c,f)},d.prototype.clear=function(){for(var a=this.storage_.keys(),b=0;b<a.length;b++)this.remove(a[b])},d.prototype.getStats=function(){return this.stats_},d.prototype.resize=function(a){var b=this.maxSize_;this.maxSize_=a,a>0&&(0>b||b>a)&&this.size()>a&&this.purge_()},d.prototype.purge_=function(){var a=new Array,b=Math.round(this.maxSize_*this.fillFactor_);this.maxSize_<0&&(b=this.size()*this.fillFactor_);for(var c=this.storage_.keys(),d=0;d<c.length;d++){var e=c[d],f=this.storage_.get(e);this.isExpired_(f)?this.remove(e):a.push(f)}if(a.length>b)for(a=a.sort(function(a,b){return a.options.priority!=b.options.priority?b.options.priority-a.options.priority:b.lastAccessed-a.lastAccessed});a.length>b;){var g=a.pop();this.remove(g.key)}},d.prototype.addItem_=function(a,c){try{this.storage_.set(a.key,a)}catch(d){if(c)throw b.info("Failed setting again, giving up: "+d.toString()),d;b.info("Error adding item, purging and trying again: "+d.toString()),this.purge_(),this.addItem_(a,!0)}},d.prototype.remove=function(a){var b=this.storage_.remove(a);return b&&b.options&&b.options.callback&&setTimeout(function(){b.options.callback.call(null,b.key,b.value)},0),b?b.value:null},d.prototype.removeWhere=function(a){for(var b=this.storage_.keys(),c=0;c<b.length;c++){var d=b[c],e=this.storage_.get(d);a(d,e.value)===!0&&this.remove(d)}},d.prototype.size=function(){return this.storage_.size()},d.prototype.isExpired_=function(a){var c=b.now(),d=!1;if(a.options.expirationAbsolute&&a.options.expirationAbsolute<c&&(d=!0),!d&&a.options.expirationSliding){var e=a.lastAccessed+1e3*a.options.expirationSliding;c>e&&(d=!0)}return d},b.register(c,e),b.register("newMemCache",function(a){return b.newCache(a,new d.BasicCacheStorage)})}(this,this.kiwi,"newCache"),!function(a,b,c){function d(a,c){this.maxSize_=a||-1,this.storage_=c||b.store,this.fillFactor_=.75,this.stats_={},this.stats_.hits=0,this.stats_.misses=0,b.info("Initialized cache with size "+this.maxSize_)}var e=function(a,b){return new d(a,b)};a.CachePriority={LOW:1,NORMAL:2,HIGH:4},d.BasicCacheStorage=function(){this.items_={},this.count_=0},d.BasicCacheStorage.prototype.get=function(a){return this.items_[a]},d.BasicCacheStorage.prototype.set=function(a,b){"undefined"==typeof this.get(a)&&this.count_++,this.items_[a]=b},d.BasicCacheStorage.prototype.size=function(a,b){return this.count_},d.BasicCacheStorage.prototype.remove=function(a){var b=this.get(a);return"undefined"!=typeof b&&this.count_--,delete this.items_[a],b},d.BasicCacheStorage.prototype.keys=function(){var a=[],b=null;for(b in this.items_)a.push(b);return a},d.prototype.get=function(a){var c=this.storage_.get(a);null!=c&&(this.isExpired_(c)?(this.remove(a),c=null):c.lastAccessed=b.now());var d=c?c.value:null;return d?this.stats_.hits++:this.stats_.misses++,d},d._CacheItem=function(a,c,d){if(!a)throw new Error("key cannot be null or empty");this.key=a,this.value=c,d=d||{},d.expirationAbsolute&&(d.expirationAbsolute=d.expirationAbsolute.getTime()),d.priority||(d.priority=CachePriority.NORMAL),this.options=d,this.lastAccessed=b.now()},d.prototype.setItem=function(a,b,c){if(null!=this.storage_.get(a)&&this.remove(a),this.addItem_(new d._CacheItem(a,b,c)),this.maxSize_>0&&this.size()>this.maxSize_){var e=this;setTimeout(function(){e.purge_.call(e)},0)}},d.prototype.set=function(a,c,d,e){if(b.isJson(d))return void this.setItem(a,c,d);var f={};b.isDate(d)?f={expirationAbsolute:d}:b.isNumber(d)?f={expirationSliding:d}:b.isFunc(d)&&(f={callback:d}),e&&$.extend(f,{priority:e}),this.setItem(a,c,f)},d.prototype.clear=function(){for(var a=this.storage_.keys(),b=0;b<a.length;b++)this.remove(a[b])},d.prototype.getStats=function(){return this.stats_},d.prototype.resize=function(a){var b=this.maxSize_;this.maxSize_=a,a>0&&(0>b||b>a)&&this.size()>a&&this.purge_()},d.prototype.purge_=function(){var a=new Array,b=Math.round(this.maxSize_*this.fillFactor_);this.maxSize_<0&&(b=this.size()*this.fillFactor_);for(var c=this.storage_.keys(),d=0;d<c.length;d++){var e=c[d],f=this.storage_.get(e);this.isExpired_(f)?this.remove(e):a.push(f)}if(a.length>b)for(a=a.sort(function(a,b){return a.options.priority!=b.options.priority?b.options.priority-a.options.priority:b.lastAccessed-a.lastAccessed});a.length>b;){var g=a.pop();this.remove(g.key)}},d.prototype.addItem_=function(a,c){try{this.storage_.set(a.key,a)}catch(d){if(c)throw b.info("Failed setting again, giving up: "+d.toString()),d;b.info("Error adding item, purging and trying again: "+d.toString()),this.purge_(),this.addItem_(a,!0)}},d.prototype.remove=function(a){var b=this.storage_.remove(a);return b&&b.options&&b.options.callback&&setTimeout(function(){b.options.callback.call(null,b.key,b.value)},0),b?b.value:null},d.prototype.removeWhere=function(a){for(var b=this.storage_.keys(),c=0;c<b.length;c++){var d=b[c],e=this.storage_.get(d);a(d,e.value)===!0&&this.remove(d)}},d.prototype.size=function(){return this.storage_.size()},d.prototype.isExpired_=function(a){var c=b.now(),d=!1;if(a.options.expirationAbsolute&&a.options.expirationAbsolute<c&&(d=!0),!d&&a.options.expirationSliding){var e=a.lastAccessed+1e3*a.options.expirationSliding;c>e&&(d=!0)}return d},b.register(c,e),b.register("newMemCache",function(a){return b.newCache(a,new d.BasicCacheStorage)})}(this,this.kiwi,"newCache"),!function(a,b,c){function d(a,c){this.maxSize_=a||-1,this.storage_=c||b.store,this.fillFactor_=.75,this.stats_={},this.stats_.hits=0,this.stats_.misses=0,b.info("Initialized cache with size "+this.maxSize_)}var e=function(a,b){return new d(a,b)};a.CachePriority={LOW:1,NORMAL:2,HIGH:4},d.BasicCacheStorage=function(){this.items_={},this.count_=0},d.BasicCacheStorage.prototype.get=function(a){return this.items_[a]},d.BasicCacheStorage.prototype.set=function(a,b){"undefined"==typeof this.get(a)&&this.count_++,this.items_[a]=b},d.BasicCacheStorage.prototype.size=function(a,b){return this.count_},d.BasicCacheStorage.prototype.remove=function(a){var b=this.get(a);return"undefined"!=typeof b&&this.count_--,delete this.items_[a],b},d.BasicCacheStorage.prototype.keys=function(){var a=[],b=null;for(b in this.items_)a.push(b);return a},d.prototype.get=function(a){var c=this.storage_.get(a);null!=c&&(this.isExpired_(c)?(this.remove(a),c=null):c.lastAccessed=b.now());var d=c?c.value:null;return d?this.stats_.hits++:this.stats_.misses++,d},d._CacheItem=function(a,c,d){if(!a)throw new Error("key cannot be null or empty");this.key=a,this.value=c,d=d||{},d.expirationAbsolute&&(d.expirationAbsolute=d.expirationAbsolute.getTime()),d.priority||(d.priority=CachePriority.NORMAL),this.options=d,this.lastAccessed=b.now()},d.prototype.setItem=function(a,b,c){if(null!=this.storage_.get(a)&&this.remove(a),this.addItem_(new d._CacheItem(a,b,c)),this.maxSize_>0&&this.size()>this.maxSize_){var e=this;setTimeout(function(){e.purge_.call(e)},0)}},d.prototype.set=function(a,c,d,e){if(b.isJson(d))return void this.setItem(a,c,d);var f={};b.isDate(d)?f={expirationAbsolute:d}:b.isNumber(d)?f={expirationSliding:d}:b.isFunc(d)&&(f={callback:d}),e&&$.extend(f,{priority:e}),this.setItem(a,c,f)},d.prototype.clear=function(){for(var a=this.storage_.keys(),b=0;b<a.length;b++)this.remove(a[b])},d.prototype.getStats=function(){return this.stats_},d.prototype.resize=function(a){var b=this.maxSize_;this.maxSize_=a,a>0&&(0>b||b>a)&&this.size()>a&&this.purge_()},d.prototype.purge_=function(){var a=new Array,b=Math.round(this.maxSize_*this.fillFactor_);this.maxSize_<0&&(b=this.size()*this.fillFactor_);for(var c=this.storage_.keys(),d=0;d<c.length;d++){var e=c[d],f=this.storage_.get(e);this.isExpired_(f)?this.remove(e):a.push(f)}if(a.length>b)for(a=a.sort(function(a,b){return a.options.priority!=b.options.priority?b.options.priority-a.options.priority:b.lastAccessed-a.lastAccessed});a.length>b;){var g=a.pop();this.remove(g.key)}},d.prototype.addItem_=function(a,c){try{this.storage_.set(a.key,a)}catch(d){if(c)throw b.info("Failed setting again, giving up: "+d.toString()),d;b.info("Error adding item, purging and trying again: "+d.toString()),this.purge_(),this.addItem_(a,!0)}},d.prototype.remove=function(a){var b=this.storage_.remove(a);return b&&b.options&&b.options.callback&&setTimeout(function(){b.options.callback.call(null,b.key,b.value)},0),b?b.value:null},d.prototype.removeWhere=function(a){for(var b=this.storage_.keys(),c=0;c<b.length;c++){var d=b[c],e=this.storage_.get(d);a(d,e.value)===!0&&this.remove(d)}},d.prototype.size=function(){return this.storage_.size()},d.prototype.isExpired_=function(a){var c=b.now(),d=!1;if(a.options.expirationAbsolute&&a.options.expirationAbsolute<c&&(d=!0),!d&&a.options.expirationSliding){var e=a.lastAccessed+1e3*a.options.expirationSliding;c>e&&(d=!0)}return d},b.register(c,e),b.register("newMemCache",function(a){return b.newCache(a,new d.BasicCacheStorage)})}(this,this.kiwi,"newCache"),!function(a,b,c){function d(a,c){this.maxSize_=a||-1,this.storage_=c||b.store,this.fillFactor_=.75,this.stats_={},this.stats_.hits=0,this.stats_.misses=0,b.info("Initialized cache with size "+this.maxSize_)}var e=function(a,b){return new d(a,b)};a.CachePriority={LOW:1,NORMAL:2,HIGH:4},d.BasicCacheStorage=function(){this.items_={},this.count_=0},d.BasicCacheStorage.prototype.get=function(a){return this.items_[a]},d.BasicCacheStorage.prototype.set=function(a,b){"undefined"==typeof this.get(a)&&this.count_++,this.items_[a]=b},d.BasicCacheStorage.prototype.size=function(a,b){return this.count_},d.BasicCacheStorage.prototype.remove=function(a){var b=this.get(a);return"undefined"!=typeof b&&this.count_--,delete this.items_[a],b},d.BasicCacheStorage.prototype.keys=function(){var a=[],b=null;for(b in this.items_)a.push(b);return a},d.prototype.get=function(a){var c=this.storage_.get(a);null!=c&&(this.isExpired_(c)?(this.remove(a),c=null):c.lastAccessed=b.now());var d=c?c.value:null;return d?this.stats_.hits++:this.stats_.misses++,d},d._CacheItem=function(a,c,d){if(!a)throw new Error("key cannot be null or empty");this.key=a,this.value=c,d=d||{},d.expirationAbsolute&&(d.expirationAbsolute=d.expirationAbsolute.getTime()),d.priority||(d.priority=CachePriority.NORMAL),this.options=d,this.lastAccessed=b.now()},d.prototype.setItem=function(a,b,c){if(null!=this.storage_.get(a)&&this.remove(a),this.addItem_(new d._CacheItem(a,b,c)),this.maxSize_>0&&this.size()>this.maxSize_){var e=this;setTimeout(function(){e.purge_.call(e)},0)}},d.prototype.set=function(a,c,d,e){if(b.isJson(d))return void this.setItem(a,c,d);var f={};b.isDate(d)?f={expirationAbsolute:d}:b.isNumber(d)?f={expirationSliding:d}:b.isFunc(d)&&(f={callback:d}),e&&$.extend(f,{priority:e}),this.setItem(a,c,f)},d.prototype.clear=function(){for(var a=this.storage_.keys(),b=0;b<a.length;b++)this.remove(a[b])},d.prototype.getStats=function(){return this.stats_},d.prototype.resize=function(a){var b=this.maxSize_;this.maxSize_=a,a>0&&(0>b||b>a)&&this.size()>a&&this.purge_()},d.prototype.purge_=function(){var a=new Array,b=Math.round(this.maxSize_*this.fillFactor_);this.maxSize_<0&&(b=this.size()*this.fillFactor_);for(var c=this.storage_.keys(),d=0;d<c.length;d++){var e=c[d],f=this.storage_.get(e);this.isExpired_(f)?this.remove(e):a.push(f)}if(a.length>b)for(a=a.sort(function(a,b){return a.options.priority!=b.options.priority?b.options.priority-a.options.priority:b.lastAccessed-a.lastAccessed});a.length>b;){var g=a.pop();this.remove(g.key)}},d.prototype.addItem_=function(a,c){try{this.storage_.set(a.key,a)}catch(d){if(c)throw b.info("Failed setting again, giving up: "+d.toString()),d;b.info("Error adding item, purging and trying again: "+d.toString()),this.purge_(),this.addItem_(a,!0)}},d.prototype.remove=function(a){var b=this.storage_.remove(a);return b&&b.options&&b.options.callback&&setTimeout(function(){b.options.callback.call(null,b.key,b.value)},0),b?b.value:null},d.prototype.removeWhere=function(a){for(var b=this.storage_.keys(),c=0;c<b.length;c++){var d=b[c],e=this.storage_.get(d);a(d,e.value)===!0&&this.remove(d)}},d.prototype.size=function(){return this.storage_.size()},d.prototype.isExpired_=function(a){var c=b.now(),d=!1;if(a.options.expirationAbsolute&&a.options.expirationAbsolute<c&&(d=!0),!d&&a.options.expirationSliding){var e=a.lastAccessed+1e3*a.options.expirationSliding;c>e&&(d=!0)}return d},b.register(c,e),b.register("newMemCache",function(a){return b.newCache(a,new d.BasicCacheStorage)})}(this,this.kiwi,"newCache"),!function(a,b,c){function d(a,c){this.maxSize_=a||-1,this.storage_=c||b.store,this.fillFactor_=.75,this.stats_={},this.stats_.hits=0,this.stats_.misses=0,b.info("Initialized cache with size "+this.maxSize_)}var e=function(a,b){return new d(a,b)};a.CachePriority={LOW:1,NORMAL:2,HIGH:4},d.BasicCacheStorage=function(){this.items_={},this.count_=0},d.BasicCacheStorage.prototype.get=function(a){return this.items_[a]},d.BasicCacheStorage.prototype.set=function(a,b){"undefined"==typeof this.get(a)&&this.count_++,this.items_[a]=b},d.BasicCacheStorage.prototype.size=function(a,b){return this.count_},d.BasicCacheStorage.prototype.remove=function(a){var b=this.get(a);return"undefined"!=typeof b&&this.count_--,delete this.items_[a],b},d.BasicCacheStorage.prototype.keys=function(){var a=[],b=null;for(b in this.items_)a.push(b);return a},d.prototype.get=function(a){var c=this.storage_.get(a);null!=c&&(this.isExpired_(c)?(this.remove(a),c=null):c.lastAccessed=b.now());var d=c?c.value:null;return d?this.stats_.hits++:this.stats_.misses++,d},d._CacheItem=function(a,c,d){if(!a)throw new Error("key cannot be null or empty");this.key=a,this.value=c,d=d||{},d.expirationAbsolute&&(d.expirationAbsolute=d.expirationAbsolute.getTime()),d.priority||(d.priority=CachePriority.NORMAL),this.options=d,this.lastAccessed=b.now()},d.prototype.setItem=function(a,b,c){if(null!=this.storage_.get(a)&&this.remove(a),this.addItem_(new d._CacheItem(a,b,c)),this.maxSize_>0&&this.size()>this.maxSize_){var e=this;setTimeout(function(){e.purge_.call(e)},0)}},d.prototype.set=function(a,c,d,e){if(b.isJson(d))return void this.setItem(a,c,d);var f={};b.isDate(d)?f={expirationAbsolute:d}:b.isNumber(d)?f={expirationSliding:d}:b.isFunc(d)&&(f={callback:d}),e&&$.extend(f,{priority:e}),this.setItem(a,c,f)},d.prototype.clear=function(){for(var a=this.storage_.keys(),b=0;b<a.length;b++)this.remove(a[b])},d.prototype.getStats=function(){return this.stats_},d.prototype.resize=function(a){var b=this.maxSize_;this.maxSize_=a,a>0&&(0>b||b>a)&&this.size()>a&&this.purge_()},d.prototype.purge_=function(){var a=new Array,b=Math.round(this.maxSize_*this.fillFactor_);this.maxSize_<0&&(b=this.size()*this.fillFactor_);for(var c=this.storage_.keys(),d=0;d<c.length;d++){var e=c[d],f=this.storage_.get(e);this.isExpired_(f)?this.remove(e):a.push(f)}if(a.length>b)for(a=a.sort(function(a,b){return a.options.priority!=b.options.priority?b.options.priority-a.options.priority:b.lastAccessed-a.lastAccessed});a.length>b;){var g=a.pop();this.remove(g.key)}},d.prototype.addItem_=function(a,c){try{this.storage_.set(a.key,a)}catch(d){if(c)throw b.info("Failed setting again, giving up: "+d.toString()),d;b.info("Error adding item, purging and trying again: "+d.toString()),this.purge_(),this.addItem_(a,!0)}},d.prototype.remove=function(a){var b=this.storage_.remove(a);return b&&b.options&&b.options.callback&&setTimeout(function(){b.options.callback.call(null,b.key,b.value)},0),b?b.value:null},d.prototype.removeWhere=function(a){for(var b=this.storage_.keys(),c=0;c<b.length;c++){var d=b[c],e=this.storage_.get(d);a(d,e.value)===!0&&this.remove(d)}},d.prototype.size=function(){return this.storage_.size()},d.prototype.isExpired_=function(a){var c=b.now(),d=!1;if(a.options.expirationAbsolute&&a.options.expirationAbsolute<c&&(d=!0),!d&&a.options.expirationSliding){var e=a.lastAccessed+1e3*a.options.expirationSliding;c>e&&(d=!0)}return d},b.register(c,e),b.register("newMemCache",function(a){return b.newCache(a,new d.BasicCacheStorage)})}(this,this.kiwi,"newCache"),!function(a,b,c){function d(a,c){this.maxSize_=a||-1,this.storage_=c||b.store,this.fillFactor_=.75,this.stats_={},this.stats_.hits=0,this.stats_.misses=0,b.info("Initialized cache with size "+this.maxSize_);
}var e=function(a,b){return new d(a,b)};a.CachePriority={LOW:1,NORMAL:2,HIGH:4},d.BasicCacheStorage=function(){this.items_={},this.count_=0},d.BasicCacheStorage.prototype.get=function(a){return this.items_[a]},d.BasicCacheStorage.prototype.set=function(a,b){"undefined"==typeof this.get(a)&&this.count_++,this.items_[a]=b},d.BasicCacheStorage.prototype.size=function(a,b){return this.count_},d.BasicCacheStorage.prototype.remove=function(a){var b=this.get(a);return"undefined"!=typeof b&&this.count_--,delete this.items_[a],b},d.BasicCacheStorage.prototype.keys=function(){var a=[],b=null;for(b in this.items_)a.push(b);return a},d.prototype.get=function(a){var c=this.storage_.get(a);null!=c&&(this.isExpired_(c)?(this.remove(a),c=null):c.lastAccessed=b.now());var d=c?c.value:null;return d?this.stats_.hits++:this.stats_.misses++,d},d._CacheItem=function(a,c,d){if(!a)throw new Error("key cannot be null or empty");this.key=a,this.value=c,d=d||{},d.expirationAbsolute&&(d.expirationAbsolute=d.expirationAbsolute.getTime()),d.priority||(d.priority=CachePriority.NORMAL),this.options=d,this.lastAccessed=b.now()},d.prototype.setItem=function(a,b,c){if(null!=this.storage_.get(a)&&this.remove(a),this.addItem_(new d._CacheItem(a,b,c)),this.maxSize_>0&&this.size()>this.maxSize_){var e=this;setTimeout(function(){e.purge_.call(e)},0)}},d.prototype.set=function(a,c,d,e){if(b.isJson(d))return void this.setItem(a,c,d);var f={};b.isDate(d)?f={expirationAbsolute:d}:b.isNumber(d)?f={expirationSliding:d}:b.isFunc(d)&&(f={callback:d}),e&&$.extend(f,{priority:e}),this.setItem(a,c,f)},d.prototype.clear=function(){for(var a=this.storage_.keys(),b=0;b<a.length;b++)this.remove(a[b])},d.prototype.getStats=function(){return this.stats_},d.prototype.resize=function(a){var b=this.maxSize_;this.maxSize_=a,a>0&&(0>b||b>a)&&this.size()>a&&this.purge_()},d.prototype.purge_=function(){var a=new Array,b=Math.round(this.maxSize_*this.fillFactor_);this.maxSize_<0&&(b=this.size()*this.fillFactor_);for(var c=this.storage_.keys(),d=0;d<c.length;d++){var e=c[d],f=this.storage_.get(e);this.isExpired_(f)?this.remove(e):a.push(f)}if(a.length>b)for(a=a.sort(function(a,b){return a.options.priority!=b.options.priority?b.options.priority-a.options.priority:b.lastAccessed-a.lastAccessed});a.length>b;){var g=a.pop();this.remove(g.key)}},d.prototype.addItem_=function(a,c){try{this.storage_.set(a.key,a)}catch(d){if(c)throw b.info("Failed setting again, giving up: "+d.toString()),d;b.info("Error adding item, purging and trying again: "+d.toString()),this.purge_(),this.addItem_(a,!0)}},d.prototype.remove=function(a){var b=this.storage_.remove(a);return b&&b.options&&b.options.callback&&setTimeout(function(){b.options.callback.call(null,b.key,b.value)},0),b?b.value:null},d.prototype.removeWhere=function(a){for(var b=this.storage_.keys(),c=0;c<b.length;c++){var d=b[c],e=this.storage_.get(d);a(d,e.value)===!0&&this.remove(d)}},d.prototype.size=function(){return this.storage_.size()},d.prototype.isExpired_=function(a){var c=b.now(),d=!1;if(a.options.expirationAbsolute&&a.options.expirationAbsolute<c&&(d=!0),!d&&a.options.expirationSliding){var e=a.lastAccessed+1e3*a.options.expirationSliding;c>e&&(d=!0)}return d},b.register(c,e),b.register("newMemCache",function(a){return b.newCache(a,new d.BasicCacheStorage)})}(this,this.kiwi,"newCache"),!function(a,b,c){function d(a,c){this.maxSize_=a||-1,this.storage_=c||b.store,this.fillFactor_=.75,this.stats_={},this.stats_.hits=0,this.stats_.misses=0,b.info("Initialized cache with size "+this.maxSize_)}var e=function(a,b){return new d(a,b)};a.CachePriority={LOW:1,NORMAL:2,HIGH:4},d.BasicCacheStorage=function(){this.items_={},this.count_=0},d.BasicCacheStorage.prototype.get=function(a){return this.items_[a]},d.BasicCacheStorage.prototype.set=function(a,b){"undefined"==typeof this.get(a)&&this.count_++,this.items_[a]=b},d.BasicCacheStorage.prototype.size=function(a,b){return this.count_},d.BasicCacheStorage.prototype.remove=function(a){var b=this.get(a);return"undefined"!=typeof b&&this.count_--,delete this.items_[a],b},d.BasicCacheStorage.prototype.keys=function(){var a=[],b=null;for(b in this.items_)a.push(b);return a},d.prototype.get=function(a){var c=this.storage_.get(a);null!=c&&(this.isExpired_(c)?(this.remove(a),c=null):c.lastAccessed=b.now());var d=c?c.value:null;return d?this.stats_.hits++:this.stats_.misses++,d},d._CacheItem=function(a,c,d){if(!a)throw new Error("key cannot be null or empty");this.key=a,this.value=c,d=d||{},d.expirationAbsolute&&(d.expirationAbsolute=d.expirationAbsolute.getTime()),d.priority||(d.priority=CachePriority.NORMAL),this.options=d,this.lastAccessed=b.now()},d.prototype.setItem=function(a,b,c){if(null!=this.storage_.get(a)&&this.remove(a),this.addItem_(new d._CacheItem(a,b,c)),this.maxSize_>0&&this.size()>this.maxSize_){var e=this;setTimeout(function(){e.purge_.call(e)},0)}},d.prototype.set=function(a,c,d,e){if(b.isJson(d))return void this.setItem(a,c,d);var f={};b.isDate(d)?f={expirationAbsolute:d}:b.isNumber(d)?f={expirationSliding:d}:b.isFunc(d)&&(f={callback:d}),e&&$.extend(f,{priority:e}),this.setItem(a,c,f)},d.prototype.clear=function(){for(var a=this.storage_.keys(),b=0;b<a.length;b++)this.remove(a[b])},d.prototype.getStats=function(){return this.stats_},d.prototype.resize=function(a){var b=this.maxSize_;this.maxSize_=a,a>0&&(0>b||b>a)&&this.size()>a&&this.purge_()},d.prototype.purge_=function(){var a=new Array,b=Math.round(this.maxSize_*this.fillFactor_);this.maxSize_<0&&(b=this.size()*this.fillFactor_);for(var c=this.storage_.keys(),d=0;d<c.length;d++){var e=c[d],f=this.storage_.get(e);this.isExpired_(f)?this.remove(e):a.push(f)}if(a.length>b)for(a=a.sort(function(a,b){return a.options.priority!=b.options.priority?b.options.priority-a.options.priority:b.lastAccessed-a.lastAccessed});a.length>b;){var g=a.pop();this.remove(g.key)}},d.prototype.addItem_=function(a,c){try{this.storage_.set(a.key,a)}catch(d){if(c)throw b.info("Failed setting again, giving up: "+d.toString()),d;b.info("Error adding item, purging and trying again: "+d.toString()),this.purge_(),this.addItem_(a,!0)}},d.prototype.remove=function(a){var b=this.storage_.remove(a);return b&&b.options&&b.options.callback&&setTimeout(function(){b.options.callback.call(null,b.key,b.value)},0),b?b.value:null},d.prototype.removeWhere=function(a){for(var b=this.storage_.keys(),c=0;c<b.length;c++){var d=b[c],e=this.storage_.get(d);a(d,e.value)===!0&&this.remove(d)}},d.prototype.size=function(){return this.storage_.size()},d.prototype.isExpired_=function(a){var c=b.now(),d=!1;if(a.options.expirationAbsolute&&a.options.expirationAbsolute<c&&(d=!0),!d&&a.options.expirationSliding){var e=a.lastAccessed+1e3*a.options.expirationSliding;c>e&&(d=!0)}return d},b.register(c,e),b.register("newMemCache",function(a){return b.newCache(a,new d.BasicCacheStorage)})}(this,this.kiwi,"newCache"),!function(a,b,c){function d(a,c){this.maxSize_=a||-1,this.storage_=c||b.store,this.fillFactor_=.75,this.stats_={},this.stats_.hits=0,this.stats_.misses=0,b.info("Initialized cache with size "+this.maxSize_)}var e=function(a,b){return new d(a,b)};a.CachePriority={LOW:1,NORMAL:2,HIGH:4},d.BasicCacheStorage=function(){this.items_={},this.count_=0},d.BasicCacheStorage.prototype.get=function(a){return this.items_[a]},d.BasicCacheStorage.prototype.set=function(a,b){"undefined"==typeof this.get(a)&&this.count_++,this.items_[a]=b},d.BasicCacheStorage.prototype.size=function(a,b){return this.count_},d.BasicCacheStorage.prototype.remove=function(a){var b=this.get(a);return"undefined"!=typeof b&&this.count_--,delete this.items_[a],b},d.BasicCacheStorage.prototype.keys=function(){var a=[],b=null;for(b in this.items_)a.push(b);return a},d.prototype.get=function(a){var c=this.storage_.get(a);null!=c&&(this.isExpired_(c)?(this.remove(a),c=null):c.lastAccessed=b.now());var d=c?c.value:null;return d?this.stats_.hits++:this.stats_.misses++,d},d._CacheItem=function(a,c,d){if(!a)throw new Error("key cannot be null or empty");this.key=a,this.value=c,d=d||{},d.expirationAbsolute&&(d.expirationAbsolute=d.expirationAbsolute.getTime()),d.priority||(d.priority=CachePriority.NORMAL),this.options=d,this.lastAccessed=b.now()},d.prototype.setItem=function(a,b,c){if(null!=this.storage_.get(a)&&this.remove(a),this.addItem_(new d._CacheItem(a,b,c)),this.maxSize_>0&&this.size()>this.maxSize_){var e=this;setTimeout(function(){e.purge_.call(e)},0)}},d.prototype.set=function(a,c,d,e){if(b.isJson(d))return void this.setItem(a,c,d);var f={};b.isDate(d)?f={expirationAbsolute:d}:b.isNumber(d)?f={expirationSliding:d}:b.isFunc(d)&&(f={callback:d}),e&&$.extend(f,{priority:e}),this.setItem(a,c,f)},d.prototype.clear=function(){for(var a=this.storage_.keys(),b=0;b<a.length;b++)this.remove(a[b])},d.prototype.getStats=function(){return this.stats_},d.prototype.resize=function(a){var b=this.maxSize_;this.maxSize_=a,a>0&&(0>b||b>a)&&this.size()>a&&this.purge_()},d.prototype.purge_=function(){var a=new Array,b=Math.round(this.maxSize_*this.fillFactor_);this.maxSize_<0&&(b=this.size()*this.fillFactor_);for(var c=this.storage_.keys(),d=0;d<c.length;d++){var e=c[d],f=this.storage_.get(e);this.isExpired_(f)?this.remove(e):a.push(f)}if(a.length>b)for(a=a.sort(function(a,b){return a.options.priority!=b.options.priority?b.options.priority-a.options.priority:b.lastAccessed-a.lastAccessed});a.length>b;){var g=a.pop();this.remove(g.key)}},d.prototype.addItem_=function(a,c){try{this.storage_.set(a.key,a)}catch(d){if(c)throw b.info("Failed setting again, giving up: "+d.toString()),d;b.info("Error adding item, purging and trying again: "+d.toString()),this.purge_(),this.addItem_(a,!0)}},d.prototype.remove=function(a){var b=this.storage_.remove(a);return b&&b.options&&b.options.callback&&setTimeout(function(){b.options.callback.call(null,b.key,b.value)},0),b?b.value:null},d.prototype.removeWhere=function(a){for(var b=this.storage_.keys(),c=0;c<b.length;c++){var d=b[c],e=this.storage_.get(d);a(d,e.value)===!0&&this.remove(d)}},d.prototype.size=function(){return this.storage_.size()},d.prototype.isExpired_=function(a){var c=b.now(),d=!1;if(a.options.expirationAbsolute&&a.options.expirationAbsolute<c&&(d=!0),!d&&a.options.expirationSliding){var e=a.lastAccessed+1e3*a.options.expirationSliding;c>e&&(d=!0)}return d},b.register(c,e),b.register("newMemCache",function(a){return b.newCache(a,new d.BasicCacheStorage)})}(this,this.kiwi,"newCache"),!function(a,b,c){function d(a,c){this.maxSize_=a||-1,this.storage_=c||b.store,this.fillFactor_=.75,this.stats_={},this.stats_.hits=0,this.stats_.misses=0,b.info("Initialized cache with size "+this.maxSize_)}var e=function(a,b){return new d(a,b)};a.CachePriority={LOW:1,NORMAL:2,HIGH:4},d.BasicCacheStorage=function(){this.items_={},this.count_=0},d.BasicCacheStorage.prototype.get=function(a){return this.items_[a]},d.BasicCacheStorage.prototype.set=function(a,b){"undefined"==typeof this.get(a)&&this.count_++,this.items_[a]=b},d.BasicCacheStorage.prototype.size=function(a,b){return this.count_},d.BasicCacheStorage.prototype.remove=function(a){var b=this.get(a);return"undefined"!=typeof b&&this.count_--,delete this.items_[a],b},d.BasicCacheStorage.prototype.keys=function(){var a=[],b=null;for(b in this.items_)a.push(b);return a},d.prototype.get=function(a){var c=this.storage_.get(a);null!=c&&(this.isExpired_(c)?(this.remove(a),c=null):c.lastAccessed=b.now());var d=c?c.value:null;return d?this.stats_.hits++:this.stats_.misses++,d},d._CacheItem=function(a,c,d){if(!a)throw new Error("key cannot be null or empty");this.key=a,this.value=c,d=d||{},d.expirationAbsolute&&(d.expirationAbsolute=d.expirationAbsolute.getTime()),d.priority||(d.priority=CachePriority.NORMAL),this.options=d,this.lastAccessed=b.now()},d.prototype.setItem=function(a,b,c){if(null!=this.storage_.get(a)&&this.remove(a),this.addItem_(new d._CacheItem(a,b,c)),this.maxSize_>0&&this.size()>this.maxSize_){var e=this;setTimeout(function(){e.purge_.call(e)},0)}},d.prototype.set=function(a,c,d,e){if(b.isJson(d))return void this.setItem(a,c,d);var f={};b.isDate(d)?f={expirationAbsolute:d}:b.isNumber(d)?f={expirationSliding:d}:b.isFunc(d)&&(f={callback:d}),e&&$.extend(f,{priority:e}),this.setItem(a,c,f)},d.prototype.clear=function(){for(var a=this.storage_.keys(),b=0;b<a.length;b++)this.remove(a[b])},d.prototype.getStats=function(){return this.stats_},d.prototype.resize=function(a){var b=this.maxSize_;this.maxSize_=a,a>0&&(0>b||b>a)&&this.size()>a&&this.purge_()},d.prototype.purge_=function(){var a=new Array,b=Math.round(this.maxSize_*this.fillFactor_);this.maxSize_<0&&(b=this.size()*this.fillFactor_);for(var c=this.storage_.keys(),d=0;d<c.length;d++){var e=c[d],f=this.storage_.get(e);this.isExpired_(f)?this.remove(e):a.push(f)}if(a.length>b)for(a=a.sort(function(a,b){return a.options.priority!=b.options.priority?b.options.priority-a.options.priority:b.lastAccessed-a.lastAccessed});a.length>b;){var g=a.pop();this.remove(g.key)}},d.prototype.addItem_=function(a,c){try{this.storage_.set(a.key,a)}catch(d){if(c)throw b.info("Failed setting again, giving up: "+d.toString()),d;b.info("Error adding item, purging and trying again: "+d.toString()),this.purge_(),this.addItem_(a,!0)}},d.prototype.remove=function(a){var b=this.storage_.remove(a);return b&&b.options&&b.options.callback&&setTimeout(function(){b.options.callback.call(null,b.key,b.value)},0),b?b.value:null},d.prototype.removeWhere=function(a){for(var b=this.storage_.keys(),c=0;c<b.length;c++){var d=b[c],e=this.storage_.get(d);a(d,e.value)===!0&&this.remove(d)}},d.prototype.size=function(){return this.storage_.size()},d.prototype.isExpired_=function(a){var c=b.now(),d=!1;if(a.options.expirationAbsolute&&a.options.expirationAbsolute<c&&(d=!0),!d&&a.options.expirationSliding){var e=a.lastAccessed+1e3*a.options.expirationSliding;c>e&&(d=!0)}return d},b.register(c,e),b.register("newMemCache",function(a){return b.newCache(a,new d.BasicCacheStorage)})}(this,this.kiwi,"newCache"),!function(a,b,c){function d(a,c){this.maxSize_=a||-1,this.storage_=c||b.store,this.fillFactor_=.75,this.stats_={},this.stats_.hits=0,this.stats_.misses=0,b.info("Initialized cache with size "+this.maxSize_)}var e=function(a,b){return new d(a,b)};a.CachePriority={LOW:1,NORMAL:2,HIGH:4},d.BasicCacheStorage=function(){this.items_={},this.count_=0},d.BasicCacheStorage.prototype.get=function(a){return this.items_[a]},d.BasicCacheStorage.prototype.set=function(a,b){"undefined"==typeof this.get(a)&&this.count_++,this.items_[a]=b},d.BasicCacheStorage.prototype.size=function(a,b){return this.count_},d.BasicCacheStorage.prototype.remove=function(a){var b=this.get(a);return"undefined"!=typeof b&&this.count_--,delete this.items_[a],b},d.BasicCacheStorage.prototype.keys=function(){var a=[],b=null;for(b in this.items_)a.push(b);return a},d.prototype.get=function(a){var c=this.storage_.get(a);null!=c&&(this.isExpired_(c)?(this.remove(a),c=null):c.lastAccessed=b.now());var d=c?c.value:null;return d?this.stats_.hits++:this.stats_.misses++,d},d._CacheItem=function(a,c,d){if(!a)throw new Error("key cannot be null or empty");this.key=a,this.value=c,d=d||{},d.expirationAbsolute&&(d.expirationAbsolute=d.expirationAbsolute.getTime()),d.priority||(d.priority=CachePriority.NORMAL),this.options=d,this.lastAccessed=b.now()},d.prototype.setItem=function(a,b,c){if(null!=this.storage_.get(a)&&this.remove(a),this.addItem_(new d._CacheItem(a,b,c)),this.maxSize_>0&&this.size()>this.maxSize_){var e=this;setTimeout(function(){e.purge_.call(e)},0)}},d.prototype.set=function(a,c,d,e){if(b.isJson(d))return void this.setItem(a,c,d);var f={};b.isDate(d)?f={expirationAbsolute:d}:b.isNumber(d)?f={expirationSliding:d}:b.isFunc(d)&&(f={callback:d}),e&&$.extend(f,{priority:e}),this.setItem(a,c,f)},d.prototype.clear=function(){for(var a=this.storage_.keys(),b=0;b<a.length;b++)this.remove(a[b])},d.prototype.getStats=function(){return this.stats_},d.prototype.resize=function(a){var b=this.maxSize_;this.maxSize_=a,a>0&&(0>b||b>a)&&this.size()>a&&this.purge_()},d.prototype.purge_=function(){var a=new Array,b=Math.round(this.maxSize_*this.fillFactor_);this.maxSize_<0&&(b=this.size()*this.fillFactor_);for(var c=this.storage_.keys(),d=0;d<c.length;d++){var e=c[d],f=this.storage_.get(e);this.isExpired_(f)?this.remove(e):a.push(f)}if(a.length>b)for(a=a.sort(function(a,b){return a.options.priority!=b.options.priority?b.options.priority-a.options.priority:b.lastAccessed-a.lastAccessed});a.length>b;){var g=a.pop();this.remove(g.key)}},d.prototype.addItem_=function(a,c){try{this.storage_.set(a.key,a)}catch(d){if(c)throw b.info("Failed setting again, giving up: "+d.toString()),d;b.info("Error adding item, purging and trying again: "+d.toString()),this.purge_(),this.addItem_(a,!0)}},d.prototype.remove=function(a){var b=this.storage_.remove(a);return b&&b.options&&b.options.callback&&setTimeout(function(){b.options.callback.call(null,b.key,b.value)},0),b?b.value:null},d.prototype.removeWhere=function(a){for(var b=this.storage_.keys(),c=0;c<b.length;c++){var d=b[c],e=this.storage_.get(d);a(d,e.value)===!0&&this.remove(d)}},d.prototype.size=function(){return this.storage_.size()},d.prototype.isExpired_=function(a){var c=b.now(),d=!1;if(a.options.expirationAbsolute&&a.options.expirationAbsolute<c&&(d=!0),!d&&a.options.expirationSliding){var e=a.lastAccessed+1e3*a.options.expirationSliding;c>e&&(d=!0)}return d},b.register(c,e),b.register("newMemCache",function(a){return b.newCache(a,new d.BasicCacheStorage)})}(this,this.kiwi,"newCache"),!function(a,b,c){function d(a,c){this.maxSize_=a||-1,this.storage_=c||b.store,this.fillFactor_=.75,this.stats_={},this.stats_.hits=0,this.stats_.misses=0,b.info("Initialized cache with size "+this.maxSize_)}var e=function(a,b){return new d(a,b)};a.CachePriority={LOW:1,NORMAL:2,HIGH:4},d.BasicCacheStorage=function(){this.items_={},this.count_=0},d.BasicCacheStorage.prototype.get=function(a){return this.items_[a]},d.BasicCacheStorage.prototype.set=function(a,b){"undefined"==typeof this.get(a)&&this.count_++,this.items_[a]=b},d.BasicCacheStorage.prototype.size=function(a,b){return this.count_},d.BasicCacheStorage.prototype.remove=function(a){var b=this.get(a);return"undefined"!=typeof b&&this.count_--,delete this.items_[a],b},d.BasicCacheStorage.prototype.keys=function(){var a=[],b=null;for(b in this.items_)a.push(b);return a},d.prototype.get=function(a){var c=this.storage_.get(a);null!=c&&(this.isExpired_(c)?(this.remove(a),c=null):c.lastAccessed=b.now());var d=c?c.value:null;return d?this.stats_.hits++:this.stats_.misses++,d},d._CacheItem=function(a,c,d){if(!a)throw new Error("key cannot be null or empty");this.key=a,this.value=c,d=d||{},d.expirationAbsolute&&(d.expirationAbsolute=d.expirationAbsolute.getTime()),d.priority||(d.priority=CachePriority.NORMAL),this.options=d,this.lastAccessed=b.now()},d.prototype.setItem=function(a,b,c){if(null!=this.storage_.get(a)&&this.remove(a),this.addItem_(new d._CacheItem(a,b,c)),this.maxSize_>0&&this.size()>this.maxSize_){var e=this;setTimeout(function(){e.purge_.call(e)},0)}},d.prototype.set=function(a,c,d,e){if(b.isJson(d))return void this.setItem(a,c,d);var f={};b.isDate(d)?f={expirationAbsolute:d}:b.isNumber(d)?f={expirationSliding:d}:b.isFunc(d)&&(f={callback:d}),e&&$.extend(f,{priority:e}),this.setItem(a,c,f)},d.prototype.clear=function(){for(var a=this.storage_.keys(),b=0;b<a.length;b++)this.remove(a[b])},d.prototype.getStats=function(){return this.stats_},d.prototype.resize=function(a){var b=this.maxSize_;this.maxSize_=a,a>0&&(0>b||b>a)&&this.size()>a&&this.purge_()},d.prototype.purge_=function(){var a=new Array,b=Math.round(this.maxSize_*this.fillFactor_);this.maxSize_<0&&(b=this.size()*this.fillFactor_);for(var c=this.storage_.keys(),d=0;d<c.length;d++){var e=c[d],f=this.storage_.get(e);this.isExpired_(f)?this.remove(e):a.push(f)}if(a.length>b)for(a=a.sort(function(a,b){return a.options.priority!=b.options.priority?b.options.priority-a.options.priority:b.lastAccessed-a.lastAccessed});a.length>b;){var g=a.pop();this.remove(g.key)}},d.prototype.addItem_=function(a,c){try{this.storage_.set(a.key,a)}catch(d){if(c)throw b.info("Failed setting again, giving up: "+d.toString()),d;b.info("Error adding item, purging and trying again: "+d.toString()),this.purge_(),this.addItem_(a,!0)}},d.prototype.remove=function(a){var b=this.storage_.remove(a);return b&&b.options&&b.options.callback&&setTimeout(function(){b.options.callback.call(null,b.key,b.value)},0),b?b.value:null},d.prototype.removeWhere=function(a){for(var b=this.storage_.keys(),c=0;c<b.length;c++){var d=b[c],e=this.storage_.get(d);a(d,e.value)===!0&&this.remove(d)}},d.prototype.size=function(){return this.storage_.size()},d.prototype.isExpired_=function(a){var c=b.now(),d=!1;if(a.options.expirationAbsolute&&a.options.expirationAbsolute<c&&(d=!0),!d&&a.options.expirationSliding){var e=a.lastAccessed+1e3*a.options.expirationSliding;c>e&&(d=!0)}return d},b.register(c,e),b.register("newMemCache",function(a){return b.newCache(a,new d.BasicCacheStorage)})}(this,this.kiwi,"newCache"),!function(a,b,c){function d(a,c){this.maxSize_=a||-1,this.storage_=c||b.store,this.fillFactor_=.75,this.stats_={},this.stats_.hits=0,this.stats_.misses=0,b.info("Initialized cache with size "+this.maxSize_)}var e=function(a,b){return new d(a,b)};a.CachePriority={LOW:1,NORMAL:2,HIGH:4},d.BasicCacheStorage=function(){this.items_={},this.count_=0},d.BasicCacheStorage.prototype.get=function(a){return this.items_[a]},d.BasicCacheStorage.prototype.set=function(a,b){"undefined"==typeof this.get(a)&&this.count_++,this.items_[a]=b},d.BasicCacheStorage.prototype.size=function(a,b){return this.count_},d.BasicCacheStorage.prototype.remove=function(a){var b=this.get(a);return"undefined"!=typeof b&&this.count_--,delete this.items_[a],b},d.BasicCacheStorage.prototype.keys=function(){var a=[],b=null;for(b in this.items_)a.push(b);return a},d.prototype.get=function(a){var c=this.storage_.get(a);null!=c&&(this.isExpired_(c)?(this.remove(a),c=null):c.lastAccessed=b.now());var d=c?c.value:null;return d?this.stats_.hits++:this.stats_.misses++,d},d._CacheItem=function(a,c,d){if(!a)throw new Error("key cannot be null or empty");this.key=a,this.value=c,d=d||{},d.expirationAbsolute&&(d.expirationAbsolute=d.expirationAbsolute.getTime()),d.priority||(d.priority=CachePriority.NORMAL),this.options=d,this.lastAccessed=b.now()},d.prototype.setItem=function(a,b,c){if(null!=this.storage_.get(a)&&this.remove(a),this.addItem_(new d._CacheItem(a,b,c)),this.maxSize_>0&&this.size()>this.maxSize_){var e=this;setTimeout(function(){e.purge_.call(e)},0)}},d.prototype.set=function(a,c,d,e){if(b.isJson(d))return void this.setItem(a,c,d);var f={};b.isDate(d)?f={expirationAbsolute:d}:b.isNumber(d)?f={expirationSliding:d}:b.isFunc(d)&&(f={callback:d}),e&&$.extend(f,{priority:e}),this.setItem(a,c,f)},d.prototype.clear=function(){for(var a=this.storage_.keys(),b=0;b<a.length;b++)this.remove(a[b])},d.prototype.getStats=function(){return this.stats_},d.prototype.resize=function(a){var b=this.maxSize_;this.maxSize_=a,a>0&&(0>b||b>a)&&this.size()>a&&this.purge_()},d.prototype.purge_=function(){var a=new Array,b=Math.round(this.maxSize_*this.fillFactor_);this.maxSize_<0&&(b=this.size()*this.fillFactor_);for(var c=this.storage_.keys(),d=0;d<c.length;d++){var e=c[d],f=this.storage_.get(e);this.isExpired_(f)?this.remove(e):a.push(f)}if(a.length>b)for(a=a.sort(function(a,b){return a.options.priority!=b.options.priority?b.options.priority-a.options.priority:b.lastAccessed-a.lastAccessed});a.length>b;){var g=a.pop();this.remove(g.key)}},d.prototype.addItem_=function(a,c){try{this.storage_.set(a.key,a)}catch(d){if(c)throw b.info("Failed setting again, giving up: "+d.toString()),d;b.info("Error adding item, purging and trying again: "+d.toString()),this.purge_(),this.addItem_(a,!0)}},d.prototype.remove=function(a){var b=this.storage_.remove(a);return b&&b.options&&b.options.callback&&setTimeout(function(){b.options.callback.call(null,b.key,b.value)},0),b?b.value:null},d.prototype.removeWhere=function(a){for(var b=this.storage_.keys(),c=0;c<b.length;c++){var d=b[c],e=this.storage_.get(d);a(d,e.value)===!0&&this.remove(d)}},d.prototype.size=function(){return this.storage_.size()},d.prototype.isExpired_=function(a){var c=b.now(),d=!1;if(a.options.expirationAbsolute&&a.options.expirationAbsolute<c&&(d=!0),!d&&a.options.expirationSliding){var e=a.lastAccessed+1e3*a.options.expirationSliding;c>e&&(d=!0)}return d},b.register(c,e),b.register("newMemCache",function(a){return b.newCache(a,new d.BasicCacheStorage)})}(this,this.kiwi,"newCache"),!function(a,b,c){function d(a,c){this.maxSize_=a||-1,this.storage_=c||b.store,this.fillFactor_=.75,this.stats_={},this.stats_.hits=0,this.stats_.misses=0,b.info("Initialized cache with size "+this.maxSize_)}var e=function(a,b){return new d(a,b)};a.CachePriority={LOW:1,NORMAL:2,HIGH:4},d.BasicCacheStorage=function(){this.items_={},this.count_=0},d.BasicCacheStorage.prototype.get=function(a){return this.items_[a]},d.BasicCacheStorage.prototype.set=function(a,b){"undefined"==typeof this.get(a)&&this.count_++,this.items_[a]=b},d.BasicCacheStorage.prototype.size=function(a,b){return this.count_},d.BasicCacheStorage.prototype.remove=function(a){var b=this.get(a);return"undefined"!=typeof b&&this.count_--,delete this.items_[a],b},d.BasicCacheStorage.prototype.keys=function(){var a=[],b=null;for(b in this.items_)a.push(b);return a},d.prototype.get=function(a){var c=this.storage_.get(a);null!=c&&(this.isExpired_(c)?(this.remove(a),c=null):c.lastAccessed=b.now());var d=c?c.value:null;return d?this.stats_.hits++:this.stats_.misses++,d},d._CacheItem=function(a,c,d){if(!a)throw new Error("key cannot be null or empty");this.key=a,this.value=c,d=d||{},d.expirationAbsolute&&(d.expirationAbsolute=d.expirationAbsolute.getTime()),d.priority||(d.priority=CachePriority.NORMAL),this.options=d,this.lastAccessed=b.now()},d.prototype.setItem=function(a,b,c){if(null!=this.storage_.get(a)&&this.remove(a),this.addItem_(new d._CacheItem(a,b,c)),this.maxSize_>0&&this.size()>this.maxSize_){var e=this;setTimeout(function(){e.purge_.call(e)},0)}},d.prototype.set=function(a,c,d,e){if(b.isJson(d))return void this.setItem(a,c,d);var f={};b.isDate(d)?f={expirationAbsolute:d}:b.isNumber(d)?f={expirationSliding:d}:b.isFunc(d)&&(f={callback:d}),e&&$.extend(f,{priority:e}),this.setItem(a,c,f)},d.prototype.clear=function(){for(var a=this.storage_.keys(),b=0;b<a.length;b++)this.remove(a[b])},d.prototype.getStats=function(){return this.stats_},d.prototype.resize=function(a){var b=this.maxSize_;this.maxSize_=a,a>0&&(0>b||b>a)&&this.size()>a&&this.purge_()},d.prototype.purge_=function(){var a=new Array,b=Math.round(this.maxSize_*this.fillFactor_);this.maxSize_<0&&(b=this.size()*this.fillFactor_);for(var c=this.storage_.keys(),d=0;d<c.length;d++){var e=c[d],f=this.storage_.get(e);this.isExpired_(f)?this.remove(e):a.push(f)}if(a.length>b)for(a=a.sort(function(a,b){return a.options.priority!=b.options.priority?b.options.priority-a.options.priority:b.lastAccessed-a.lastAccessed});a.length>b;){var g=a.pop();this.remove(g.key)}},d.prototype.addItem_=function(a,c){try{this.storage_.set(a.key,a)}catch(d){if(c)throw b.info("Failed setting again, giving up: "+d.toString()),d;b.info("Error adding item, purging and trying again: "+d.toString()),this.purge_(),this.addItem_(a,!0)}},d.prototype.remove=function(a){var b=this.storage_.remove(a);return b&&b.options&&b.options.callback&&setTimeout(function(){b.options.callback.call(null,b.key,b.value)},0),b?b.value:null},d.prototype.removeWhere=function(a){for(var b=this.storage_.keys(),c=0;c<b.length;c++){var d=b[c],e=this.storage_.get(d);a(d,e.value)===!0&&this.remove(d)}},d.prototype.size=function(){return this.storage_.size()},d.prototype.isExpired_=function(a){var c=b.now(),d=!1;if(a.options.expirationAbsolute&&a.options.expirationAbsolute<c&&(d=!0),!d&&a.options.expirationSliding){var e=a.lastAccessed+1e3*a.options.expirationSliding;c>e&&(d=!0)}return d},b.register(c,e),b.register("newMemCache",function(a){return b.newCache(a,new d.BasicCacheStorage)})}(this,this.kiwi,"newCache"),!function(a,b,c){function d(a,c){this.maxSize_=a||-1,this.storage_=c||b.store,this.fillFactor_=.75,this.stats_={},this.stats_.hits=0,this.stats_.misses=0,b.info("Initialized cache with size "+this.maxSize_)}var e=function(a,b){return new d(a,b)};a.CachePriority={LOW:1,NORMAL:2,HIGH:4},d.BasicCacheStorage=function(){this.items_={},this.count_=0},d.BasicCacheStorage.prototype.get=function(a){return this.items_[a]},d.BasicCacheStorage.prototype.set=function(a,b){"undefined"==typeof this.get(a)&&this.count_++,this.items_[a]=b},d.BasicCacheStorage.prototype.size=function(a,b){return this.count_},d.BasicCacheStorage.prototype.remove=function(a){var b=this.get(a);return"undefined"!=typeof b&&this.count_--,delete this.items_[a],b},d.BasicCacheStorage.prototype.keys=function(){var a=[],b=null;for(b in this.items_)a.push(b);return a},d.prototype.get=function(a){var c=this.storage_.get(a);null!=c&&(this.isExpired_(c)?(this.remove(a),c=null):c.lastAccessed=b.now());var d=c?c.value:null;return d?this.stats_.hits++:this.stats_.misses++,d},d._CacheItem=function(a,c,d){if(!a)throw new Error("key cannot be null or empty");this.key=a,this.value=c,d=d||{},d.expirationAbsolute&&(d.expirationAbsolute=d.expirationAbsolute.getTime()),d.priority||(d.priority=CachePriority.NORMAL),this.options=d,this.lastAccessed=b.now()},d.prototype.setItem=function(a,b,c){if(null!=this.storage_.get(a)&&this.remove(a),this.addItem_(new d._CacheItem(a,b,c)),this.maxSize_>0&&this.size()>this.maxSize_){var e=this;setTimeout(function(){e.purge_.call(e)},0)}},d.prototype.set=function(a,c,d,e){if(b.isJson(d))return void this.setItem(a,c,d);var f={};b.isDate(d)?f={expirationAbsolute:d}:b.isNumber(d)?f={expirationSliding:d}:b.isFunc(d)&&(f={callback:d}),e&&$.extend(f,{priority:e}),this.setItem(a,c,f)},d.prototype.clear=function(){for(var a=this.storage_.keys(),b=0;b<a.length;b++)this.remove(a[b])},d.prototype.getStats=function(){return this.stats_},d.prototype.resize=function(a){var b=this.maxSize_;this.maxSize_=a,a>0&&(0>b||b>a)&&this.size()>a&&this.purge_()},d.prototype.purge_=function(){var a=new Array,b=Math.round(this.maxSize_*this.fillFactor_);this.maxSize_<0&&(b=this.size()*this.fillFactor_);for(var c=this.storage_.keys(),d=0;d<c.length;d++){var e=c[d],f=this.storage_.get(e);this.isExpired_(f)?this.remove(e):a.push(f)}if(a.length>b)for(a=a.sort(function(a,b){return a.options.priority!=b.options.priority?b.options.priority-a.options.priority:b.lastAccessed-a.lastAccessed});a.length>b;){var g=a.pop();this.remove(g.key)}},d.prototype.addItem_=function(a,c){try{this.storage_.set(a.key,a)}catch(d){if(c)throw b.info("Failed setting again, giving up: "+d.toString()),d;b.info("Error adding item, purging and trying again: "+d.toString()),this.purge_(),this.addItem_(a,!0)}},d.prototype.remove=function(a){var b=this.storage_.remove(a);return b&&b.options&&b.options.callback&&setTimeout(function(){b.options.callback.call(null,b.key,b.value)},0),b?b.value:null},d.prototype.removeWhere=function(a){for(var b=this.storage_.keys(),c=0;c<b.length;c++){var d=b[c],e=this.storage_.get(d);a(d,e.value)===!0&&this.remove(d)}},d.prototype.size=function(){return this.storage_.size()},d.prototype.isExpired_=function(a){var c=b.now(),d=!1;if(a.options.expirationAbsolute&&a.options.expirationAbsolute<c&&(d=!0),!d&&a.options.expirationSliding){var e=a.lastAccessed+1e3*a.options.expirationSliding;c>e&&(d=!0)}return d},b.register(c,e),b.register("newMemCache",function(a){return b.newCache(a,new d.BasicCacheStorage)})}(this,this.kiwi,"newCache"),!function(a,b,c){function d(a,c){this.maxSize_=a||-1,this.storage_=c||b.store,this.fillFactor_=.75,this.stats_={},this.stats_.hits=0,this.stats_.misses=0,b.info("Initialized cache with size "+this.maxSize_)}var e=function(a,b){return new d(a,b)};a.CachePriority={LOW:1,NORMAL:2,HIGH:4},d.BasicCacheStorage=function(){this.items_={},this.count_=0},d.BasicCacheStorage.prototype.get=function(a){
return this.items_[a]},d.BasicCacheStorage.prototype.set=function(a,b){"undefined"==typeof this.get(a)&&this.count_++,this.items_[a]=b},d.BasicCacheStorage.prototype.size=function(a,b){return this.count_},d.BasicCacheStorage.prototype.remove=function(a){var b=this.get(a);return"undefined"!=typeof b&&this.count_--,delete this.items_[a],b},d.BasicCacheStorage.prototype.keys=function(){var a=[],b=null;for(b in this.items_)a.push(b);return a},d.prototype.get=function(a){var c=this.storage_.get(a);null!=c&&(this.isExpired_(c)?(this.remove(a),c=null):c.lastAccessed=b.now());var d=c?c.value:null;return d?this.stats_.hits++:this.stats_.misses++,d},d._CacheItem=function(a,c,d){if(!a)throw new Error("key cannot be null or empty");this.key=a,this.value=c,d=d||{},d.expirationAbsolute&&(d.expirationAbsolute=d.expirationAbsolute.getTime()),d.priority||(d.priority=CachePriority.NORMAL),this.options=d,this.lastAccessed=b.now()},d.prototype.setItem=function(a,b,c){if(null!=this.storage_.get(a)&&this.remove(a),this.addItem_(new d._CacheItem(a,b,c)),this.maxSize_>0&&this.size()>this.maxSize_){var e=this;setTimeout(function(){e.purge_.call(e)},0)}},d.prototype.set=function(a,c,d,e){if(b.isJson(d))return void this.setItem(a,c,d);var f={};b.isDate(d)?f={expirationAbsolute:d}:b.isNumber(d)?f={expirationSliding:d}:b.isFunc(d)&&(f={callback:d}),e&&$.extend(f,{priority:e}),this.setItem(a,c,f)},d.prototype.clear=function(){for(var a=this.storage_.keys(),b=0;b<a.length;b++)this.remove(a[b])},d.prototype.getStats=function(){return this.stats_},d.prototype.resize=function(a){var b=this.maxSize_;this.maxSize_=a,a>0&&(0>b||b>a)&&this.size()>a&&this.purge_()},d.prototype.purge_=function(){var a=new Array,b=Math.round(this.maxSize_*this.fillFactor_);this.maxSize_<0&&(b=this.size()*this.fillFactor_);for(var c=this.storage_.keys(),d=0;d<c.length;d++){var e=c[d],f=this.storage_.get(e);this.isExpired_(f)?this.remove(e):a.push(f)}if(a.length>b)for(a=a.sort(function(a,b){return a.options.priority!=b.options.priority?b.options.priority-a.options.priority:b.lastAccessed-a.lastAccessed});a.length>b;){var g=a.pop();this.remove(g.key)}},d.prototype.addItem_=function(a,c){try{this.storage_.set(a.key,a)}catch(d){if(c)throw b.info("Failed setting again, giving up: "+d.toString()),d;b.info("Error adding item, purging and trying again: "+d.toString()),this.purge_(),this.addItem_(a,!0)}},d.prototype.remove=function(a){var b=this.storage_.remove(a);return b&&b.options&&b.options.callback&&setTimeout(function(){b.options.callback.call(null,b.key,b.value)},0),b?b.value:null},d.prototype.removeWhere=function(a){for(var b=this.storage_.keys(),c=0;c<b.length;c++){var d=b[c],e=this.storage_.get(d);a(d,e.value)===!0&&this.remove(d)}},d.prototype.size=function(){return this.storage_.size()},d.prototype.isExpired_=function(a){var c=b.now(),d=!1;if(a.options.expirationAbsolute&&a.options.expirationAbsolute<c&&(d=!0),!d&&a.options.expirationSliding){var e=a.lastAccessed+1e3*a.options.expirationSliding;c>e&&(d=!0)}return d},b.register(c,e),b.register("newMemCache",function(a){return b.newCache(a,new d.BasicCacheStorage)})}(this,this.kiwi,"newCache"),!function(a,b,c){function d(a,c){this.maxSize_=a||-1,this.storage_=c||b.store,this.fillFactor_=.75,this.stats_={},this.stats_.hits=0,this.stats_.misses=0,b.info("Initialized cache with size "+this.maxSize_)}var e=function(a,b){return new d(a,b)};a.CachePriority={LOW:1,NORMAL:2,HIGH:4},d.BasicCacheStorage=function(){this.items_={},this.count_=0},d.BasicCacheStorage.prototype.get=function(a){return this.items_[a]},d.BasicCacheStorage.prototype.set=function(a,b){"undefined"==typeof this.get(a)&&this.count_++,this.items_[a]=b},d.BasicCacheStorage.prototype.size=function(a,b){return this.count_},d.BasicCacheStorage.prototype.remove=function(a){var b=this.get(a);return"undefined"!=typeof b&&this.count_--,delete this.items_[a],b},d.BasicCacheStorage.prototype.keys=function(){var a=[],b=null;for(b in this.items_)a.push(b);return a},d.prototype.get=function(a){var c=this.storage_.get(a);null!=c&&(this.isExpired_(c)?(this.remove(a),c=null):c.lastAccessed=b.now());var d=c?c.value:null;return d?this.stats_.hits++:this.stats_.misses++,d},d._CacheItem=function(a,c,d){if(!a)throw new Error("key cannot be null or empty");this.key=a,this.value=c,d=d||{},d.expirationAbsolute&&(d.expirationAbsolute=d.expirationAbsolute.getTime()),d.priority||(d.priority=CachePriority.NORMAL),this.options=d,this.lastAccessed=b.now()},d.prototype.setItem=function(a,b,c){if(null!=this.storage_.get(a)&&this.remove(a),this.addItem_(new d._CacheItem(a,b,c)),this.maxSize_>0&&this.size()>this.maxSize_){var e=this;setTimeout(function(){e.purge_.call(e)},0)}},d.prototype.set=function(a,c,d,e){if(b.isJson(d))return void this.setItem(a,c,d);var f={};b.isDate(d)?f={expirationAbsolute:d}:b.isNumber(d)?f={expirationSliding:d}:b.isFunc(d)&&(f={callback:d}),e&&$.extend(f,{priority:e}),this.setItem(a,c,f)},d.prototype.clear=function(){for(var a=this.storage_.keys(),b=0;b<a.length;b++)this.remove(a[b])},d.prototype.getStats=function(){return this.stats_},d.prototype.resize=function(a){var b=this.maxSize_;this.maxSize_=a,a>0&&(0>b||b>a)&&this.size()>a&&this.purge_()},d.prototype.purge_=function(){var a=new Array,b=Math.round(this.maxSize_*this.fillFactor_);this.maxSize_<0&&(b=this.size()*this.fillFactor_);for(var c=this.storage_.keys(),d=0;d<c.length;d++){var e=c[d],f=this.storage_.get(e);this.isExpired_(f)?this.remove(e):a.push(f)}if(a.length>b)for(a=a.sort(function(a,b){return a.options.priority!=b.options.priority?b.options.priority-a.options.priority:b.lastAccessed-a.lastAccessed});a.length>b;){var g=a.pop();this.remove(g.key)}},d.prototype.addItem_=function(a,c){try{this.storage_.set(a.key,a)}catch(d){if(c)throw b.info("Failed setting again, giving up: "+d.toString()),d;b.info("Error adding item, purging and trying again: "+d.toString()),this.purge_(),this.addItem_(a,!0)}},d.prototype.remove=function(a){var b=this.storage_.remove(a);return b&&b.options&&b.options.callback&&setTimeout(function(){b.options.callback.call(null,b.key,b.value)},0),b?b.value:null},d.prototype.removeWhere=function(a){for(var b=this.storage_.keys(),c=0;c<b.length;c++){var d=b[c],e=this.storage_.get(d);a(d,e.value)===!0&&this.remove(d)}},d.prototype.size=function(){return this.storage_.size()},d.prototype.isExpired_=function(a){var c=b.now(),d=!1;if(a.options.expirationAbsolute&&a.options.expirationAbsolute<c&&(d=!0),!d&&a.options.expirationSliding){var e=a.lastAccessed+1e3*a.options.expirationSliding;c>e&&(d=!0)}return d},b.register(c,e),b.register("newMemCache",function(a){return b.newCache(a,new d.BasicCacheStorage)})}(this,this.kiwi,"newCache"),!function(a,b,c){function d(a,c){this.maxSize_=a||-1,this.storage_=c||b.store,this.fillFactor_=.75,this.stats_={},this.stats_.hits=0,this.stats_.misses=0,b.info("Initialized cache with size "+this.maxSize_)}var e=function(a,b){return new d(a,b)};a.CachePriority={LOW:1,NORMAL:2,HIGH:4},d.BasicCacheStorage=function(){this.items_={},this.count_=0},d.BasicCacheStorage.prototype.get=function(a){return this.items_[a]},d.BasicCacheStorage.prototype.set=function(a,b){"undefined"==typeof this.get(a)&&this.count_++,this.items_[a]=b},d.BasicCacheStorage.prototype.size=function(a,b){return this.count_},d.BasicCacheStorage.prototype.remove=function(a){var b=this.get(a);return"undefined"!=typeof b&&this.count_--,delete this.items_[a],b},d.BasicCacheStorage.prototype.keys=function(){var a=[],b=null;for(b in this.items_)a.push(b);return a},d.prototype.get=function(a){var c=this.storage_.get(a);null!=c&&(this.isExpired_(c)?(this.remove(a),c=null):c.lastAccessed=b.now());var d=c?c.value:null;return d?this.stats_.hits++:this.stats_.misses++,d},d._CacheItem=function(a,c,d){if(!a)throw new Error("key cannot be null or empty");this.key=a,this.value=c,d=d||{},d.expirationAbsolute&&(d.expirationAbsolute=d.expirationAbsolute.getTime()),d.priority||(d.priority=CachePriority.NORMAL),this.options=d,this.lastAccessed=b.now()},d.prototype.setItem=function(a,b,c){if(null!=this.storage_.get(a)&&this.remove(a),this.addItem_(new d._CacheItem(a,b,c)),this.maxSize_>0&&this.size()>this.maxSize_){var e=this;setTimeout(function(){e.purge_.call(e)},0)}},d.prototype.set=function(a,c,d,e){if(b.isJson(d))return void this.setItem(a,c,d);var f={};b.isDate(d)?f={expirationAbsolute:d}:b.isNumber(d)?f={expirationSliding:d}:b.isFunc(d)&&(f={callback:d}),e&&$.extend(f,{priority:e}),this.setItem(a,c,f)},d.prototype.clear=function(){for(var a=this.storage_.keys(),b=0;b<a.length;b++)this.remove(a[b])},d.prototype.getStats=function(){return this.stats_},d.prototype.resize=function(a){var b=this.maxSize_;this.maxSize_=a,a>0&&(0>b||b>a)&&this.size()>a&&this.purge_()},d.prototype.purge_=function(){var a=new Array,b=Math.round(this.maxSize_*this.fillFactor_);this.maxSize_<0&&(b=this.size()*this.fillFactor_);for(var c=this.storage_.keys(),d=0;d<c.length;d++){var e=c[d],f=this.storage_.get(e);this.isExpired_(f)?this.remove(e):a.push(f)}if(a.length>b)for(a=a.sort(function(a,b){return a.options.priority!=b.options.priority?b.options.priority-a.options.priority:b.lastAccessed-a.lastAccessed});a.length>b;){var g=a.pop();this.remove(g.key)}},d.prototype.addItem_=function(a,c){try{this.storage_.set(a.key,a)}catch(d){if(c)throw b.info("Failed setting again, giving up: "+d.toString()),d;b.info("Error adding item, purging and trying again: "+d.toString()),this.purge_(),this.addItem_(a,!0)}},d.prototype.remove=function(a){var b=this.storage_.remove(a);return b&&b.options&&b.options.callback&&setTimeout(function(){b.options.callback.call(null,b.key,b.value)},0),b?b.value:null},d.prototype.removeWhere=function(a){for(var b=this.storage_.keys(),c=0;c<b.length;c++){var d=b[c],e=this.storage_.get(d);a(d,e.value)===!0&&this.remove(d)}},d.prototype.size=function(){return this.storage_.size()},d.prototype.isExpired_=function(a){var c=b.now(),d=!1;if(a.options.expirationAbsolute&&a.options.expirationAbsolute<c&&(d=!0),!d&&a.options.expirationSliding){var e=a.lastAccessed+1e3*a.options.expirationSliding;c>e&&(d=!0)}return d},b.register(c,e),b.register("newMemCache",function(a){return b.newCache(a,new d.BasicCacheStorage)})}(this,this.kiwi,"newCache"),!function(a,b,c){function d(a,c){this.maxSize_=a||-1,this.storage_=c||b.store,this.fillFactor_=.75,this.stats_={},this.stats_.hits=0,this.stats_.misses=0,b.info("Initialized cache with size "+this.maxSize_)}var e=function(a,b){return new d(a,b)};a.CachePriority={LOW:1,NORMAL:2,HIGH:4},d.BasicCacheStorage=function(){this.items_={},this.count_=0},d.BasicCacheStorage.prototype.get=function(a){return this.items_[a]},d.BasicCacheStorage.prototype.set=function(a,b){"undefined"==typeof this.get(a)&&this.count_++,this.items_[a]=b},d.BasicCacheStorage.prototype.size=function(a,b){return this.count_},d.BasicCacheStorage.prototype.remove=function(a){var b=this.get(a);return"undefined"!=typeof b&&this.count_--,delete this.items_[a],b},d.BasicCacheStorage.prototype.keys=function(){var a=[],b=null;for(b in this.items_)a.push(b);return a},d.prototype.get=function(a){var c=this.storage_.get(a);null!=c&&(this.isExpired_(c)?(this.remove(a),c=null):c.lastAccessed=b.now());var d=c?c.value:null;return d?this.stats_.hits++:this.stats_.misses++,d},d._CacheItem=function(a,c,d){if(!a)throw new Error("key cannot be null or empty");this.key=a,this.value=c,d=d||{},d.expirationAbsolute&&(d.expirationAbsolute=d.expirationAbsolute.getTime()),d.priority||(d.priority=CachePriority.NORMAL),this.options=d,this.lastAccessed=b.now()},d.prototype.setItem=function(a,b,c){if(null!=this.storage_.get(a)&&this.remove(a),this.addItem_(new d._CacheItem(a,b,c)),this.maxSize_>0&&this.size()>this.maxSize_){var e=this;setTimeout(function(){e.purge_.call(e)},0)}},d.prototype.set=function(a,c,d,e){if(b.isJson(d))return void this.setItem(a,c,d);var f={};b.isDate(d)?f={expirationAbsolute:d}:b.isNumber(d)?f={expirationSliding:d}:b.isFunc(d)&&(f={callback:d}),e&&$.extend(f,{priority:e}),this.setItem(a,c,f)},d.prototype.clear=function(){for(var a=this.storage_.keys(),b=0;b<a.length;b++)this.remove(a[b])},d.prototype.getStats=function(){return this.stats_},d.prototype.resize=function(a){var b=this.maxSize_;this.maxSize_=a,a>0&&(0>b||b>a)&&this.size()>a&&this.purge_()},d.prototype.purge_=function(){var a=new Array,b=Math.round(this.maxSize_*this.fillFactor_);this.maxSize_<0&&(b=this.size()*this.fillFactor_);for(var c=this.storage_.keys(),d=0;d<c.length;d++){var e=c[d],f=this.storage_.get(e);this.isExpired_(f)?this.remove(e):a.push(f)}if(a.length>b)for(a=a.sort(function(a,b){return a.options.priority!=b.options.priority?b.options.priority-a.options.priority:b.lastAccessed-a.lastAccessed});a.length>b;){var g=a.pop();this.remove(g.key)}},d.prototype.addItem_=function(a,c){try{this.storage_.set(a.key,a)}catch(d){if(c)throw b.info("Failed setting again, giving up: "+d.toString()),d;b.info("Error adding item, purging and trying again: "+d.toString()),this.purge_(),this.addItem_(a,!0)}},d.prototype.remove=function(a){var b=this.storage_.remove(a);return b&&b.options&&b.options.callback&&setTimeout(function(){b.options.callback.call(null,b.key,b.value)},0),b?b.value:null},d.prototype.removeWhere=function(a){for(var b=this.storage_.keys(),c=0;c<b.length;c++){var d=b[c],e=this.storage_.get(d);a(d,e.value)===!0&&this.remove(d)}},d.prototype.size=function(){return this.storage_.size()},d.prototype.isExpired_=function(a){var c=b.now(),d=!1;if(a.options.expirationAbsolute&&a.options.expirationAbsolute<c&&(d=!0),!d&&a.options.expirationSliding){var e=a.lastAccessed+1e3*a.options.expirationSliding;c>e&&(d=!0)}return d},b.register(c,e),b.register("newMemCache",function(a){return b.newCache(a,new d.BasicCacheStorage)})}(this,this.kiwi,"newCache"),!function(a,b,c){function d(a,c){this.maxSize_=a||-1,this.storage_=c||b.store,this.fillFactor_=.75,this.stats_={},this.stats_.hits=0,this.stats_.misses=0,b.info("Initialized cache with size "+this.maxSize_)}var e=function(a,b){return new d(a,b)};a.CachePriority={LOW:1,NORMAL:2,HIGH:4},d.BasicCacheStorage=function(){this.items_={},this.count_=0},d.BasicCacheStorage.prototype.get=function(a){return this.items_[a]},d.BasicCacheStorage.prototype.set=function(a,b){"undefined"==typeof this.get(a)&&this.count_++,this.items_[a]=b},d.BasicCacheStorage.prototype.size=function(a,b){return this.count_},d.BasicCacheStorage.prototype.remove=function(a){var b=this.get(a);return"undefined"!=typeof b&&this.count_--,delete this.items_[a],b},d.BasicCacheStorage.prototype.keys=function(){var a=[],b=null;for(b in this.items_)a.push(b);return a},d.prototype.get=function(a){var c=this.storage_.get(a);null!=c&&(this.isExpired_(c)?(this.remove(a),c=null):c.lastAccessed=b.now());var d=c?c.value:null;return d?this.stats_.hits++:this.stats_.misses++,d},d._CacheItem=function(a,c,d){if(!a)throw new Error("key cannot be null or empty");this.key=a,this.value=c,d=d||{},d.expirationAbsolute&&(d.expirationAbsolute=d.expirationAbsolute.getTime()),d.priority||(d.priority=CachePriority.NORMAL),this.options=d,this.lastAccessed=b.now()},d.prototype.setItem=function(a,b,c){if(null!=this.storage_.get(a)&&this.remove(a),this.addItem_(new d._CacheItem(a,b,c)),this.maxSize_>0&&this.size()>this.maxSize_){var e=this;setTimeout(function(){e.purge_.call(e)},0)}},d.prototype.set=function(a,c,d,e){if(b.isJson(d))return void this.setItem(a,c,d);var f={};b.isDate(d)?f={expirationAbsolute:d}:b.isNumber(d)?f={expirationSliding:d}:b.isFunc(d)&&(f={callback:d}),e&&$.extend(f,{priority:e}),this.setItem(a,c,f)},d.prototype.clear=function(){for(var a=this.storage_.keys(),b=0;b<a.length;b++)this.remove(a[b])},d.prototype.getStats=function(){return this.stats_},d.prototype.resize=function(a){var b=this.maxSize_;this.maxSize_=a,a>0&&(0>b||b>a)&&this.size()>a&&this.purge_()},d.prototype.purge_=function(){var a=new Array,b=Math.round(this.maxSize_*this.fillFactor_);this.maxSize_<0&&(b=this.size()*this.fillFactor_);for(var c=this.storage_.keys(),d=0;d<c.length;d++){var e=c[d],f=this.storage_.get(e);this.isExpired_(f)?this.remove(e):a.push(f)}if(a.length>b)for(a=a.sort(function(a,b){return a.options.priority!=b.options.priority?b.options.priority-a.options.priority:b.lastAccessed-a.lastAccessed});a.length>b;){var g=a.pop();this.remove(g.key)}},d.prototype.addItem_=function(a,c){try{this.storage_.set(a.key,a)}catch(d){if(c)throw b.info("Failed setting again, giving up: "+d.toString()),d;b.info("Error adding item, purging and trying again: "+d.toString()),this.purge_(),this.addItem_(a,!0)}},d.prototype.remove=function(a){var b=this.storage_.remove(a);return b&&b.options&&b.options.callback&&setTimeout(function(){b.options.callback.call(null,b.key,b.value)},0),b?b.value:null},d.prototype.removeWhere=function(a){for(var b=this.storage_.keys(),c=0;c<b.length;c++){var d=b[c],e=this.storage_.get(d);a(d,e.value)===!0&&this.remove(d)}},d.prototype.size=function(){return this.storage_.size()},d.prototype.isExpired_=function(a){var c=b.now(),d=!1;if(a.options.expirationAbsolute&&a.options.expirationAbsolute<c&&(d=!0),!d&&a.options.expirationSliding){var e=a.lastAccessed+1e3*a.options.expirationSliding;c>e&&(d=!0)}return d},b.register(c,e),b.register("newMemCache",function(a){return b.newCache(a,new d.BasicCacheStorage)})}(this,this.kiwi,"newCache"),!function(a,b,c){function d(a,c){this.maxSize_=a||-1,this.storage_=c||b.store,this.fillFactor_=.75,this.stats_={},this.stats_.hits=0,this.stats_.misses=0,b.info("Initialized cache with size "+this.maxSize_)}var e=function(a,b){return new d(a,b)};a.CachePriority={LOW:1,NORMAL:2,HIGH:4},d.BasicCacheStorage=function(){this.items_={},this.count_=0},d.BasicCacheStorage.prototype.get=function(a){return this.items_[a]},d.BasicCacheStorage.prototype.set=function(a,b){"undefined"==typeof this.get(a)&&this.count_++,this.items_[a]=b},d.BasicCacheStorage.prototype.size=function(a,b){return this.count_},d.BasicCacheStorage.prototype.remove=function(a){var b=this.get(a);return"undefined"!=typeof b&&this.count_--,delete this.items_[a],b},d.BasicCacheStorage.prototype.keys=function(){var a=[],b=null;for(b in this.items_)a.push(b);return a},d.prototype.get=function(a){var c=this.storage_.get(a);null!=c&&(this.isExpired_(c)?(this.remove(a),c=null):c.lastAccessed=b.now());var d=c?c.value:null;return d?this.stats_.hits++:this.stats_.misses++,d},d._CacheItem=function(a,c,d){if(!a)throw new Error("key cannot be null or empty");this.key=a,this.value=c,d=d||{},d.expirationAbsolute&&(d.expirationAbsolute=d.expirationAbsolute.getTime()),d.priority||(d.priority=CachePriority.NORMAL),this.options=d,this.lastAccessed=b.now()},d.prototype.setItem=function(a,b,c){if(null!=this.storage_.get(a)&&this.remove(a),this.addItem_(new d._CacheItem(a,b,c)),this.maxSize_>0&&this.size()>this.maxSize_){var e=this;setTimeout(function(){e.purge_.call(e)},0)}},d.prototype.set=function(a,c,d,e){if(b.isJson(d))return void this.setItem(a,c,d);var f={};b.isDate(d)?f={expirationAbsolute:d}:b.isNumber(d)?f={expirationSliding:d}:b.isFunc(d)&&(f={callback:d}),e&&$.extend(f,{priority:e}),this.setItem(a,c,f)},d.prototype.clear=function(){for(var a=this.storage_.keys(),b=0;b<a.length;b++)this.remove(a[b])},d.prototype.getStats=function(){return this.stats_},d.prototype.resize=function(a){var b=this.maxSize_;this.maxSize_=a,a>0&&(0>b||b>a)&&this.size()>a&&this.purge_()},d.prototype.purge_=function(){var a=new Array,b=Math.round(this.maxSize_*this.fillFactor_);this.maxSize_<0&&(b=this.size()*this.fillFactor_);for(var c=this.storage_.keys(),d=0;d<c.length;d++){var e=c[d],f=this.storage_.get(e);this.isExpired_(f)?this.remove(e):a.push(f)}if(a.length>b)for(a=a.sort(function(a,b){return a.options.priority!=b.options.priority?b.options.priority-a.options.priority:b.lastAccessed-a.lastAccessed});a.length>b;){var g=a.pop();this.remove(g.key)}},d.prototype.addItem_=function(a,c){try{this.storage_.set(a.key,a)}catch(d){if(c)throw b.info("Failed setting again, giving up: "+d.toString()),d;b.info("Error adding item, purging and trying again: "+d.toString()),this.purge_(),this.addItem_(a,!0)}},d.prototype.remove=function(a){var b=this.storage_.remove(a);return b&&b.options&&b.options.callback&&setTimeout(function(){b.options.callback.call(null,b.key,b.value)},0),b?b.value:null},d.prototype.removeWhere=function(a){for(var b=this.storage_.keys(),c=0;c<b.length;c++){var d=b[c],e=this.storage_.get(d);a(d,e.value)===!0&&this.remove(d)}},d.prototype.size=function(){return this.storage_.size()},d.prototype.isExpired_=function(a){var c=b.now(),d=!1;if(a.options.expirationAbsolute&&a.options.expirationAbsolute<c&&(d=!0),!d&&a.options.expirationSliding){var e=a.lastAccessed+1e3*a.options.expirationSliding;c>e&&(d=!0)}return d},b.register(c,e),b.register("newMemCache",function(a){return b.newCache(a,new d.BasicCacheStorage)})}(this,this.kiwi,"newCache"),!function(a,b,c){function d(a,c){this.maxSize_=a||-1,this.storage_=c||b.store,this.fillFactor_=.75,this.stats_={},this.stats_.hits=0,this.stats_.misses=0,b.info("Initialized cache with size "+this.maxSize_)}var e=function(a,b){return new d(a,b)};a.CachePriority={LOW:1,NORMAL:2,HIGH:4},d.BasicCacheStorage=function(){this.items_={},this.count_=0},d.BasicCacheStorage.prototype.get=function(a){return this.items_[a]},d.BasicCacheStorage.prototype.set=function(a,b){"undefined"==typeof this.get(a)&&this.count_++,this.items_[a]=b},d.BasicCacheStorage.prototype.size=function(a,b){return this.count_},d.BasicCacheStorage.prototype.remove=function(a){var b=this.get(a);return"undefined"!=typeof b&&this.count_--,delete this.items_[a],b},d.BasicCacheStorage.prototype.keys=function(){var a=[],b=null;for(b in this.items_)a.push(b);return a},d.prototype.get=function(a){var c=this.storage_.get(a);null!=c&&(this.isExpired_(c)?(this.remove(a),c=null):c.lastAccessed=b.now());var d=c?c.value:null;return d?this.stats_.hits++:this.stats_.misses++,d},d._CacheItem=function(a,c,d){if(!a)throw new Error("key cannot be null or empty");this.key=a,this.value=c,d=d||{},d.expirationAbsolute&&(d.expirationAbsolute=d.expirationAbsolute.getTime()),d.priority||(d.priority=CachePriority.NORMAL),this.options=d,this.lastAccessed=b.now()},d.prototype.setItem=function(a,b,c){if(null!=this.storage_.get(a)&&this.remove(a),this.addItem_(new d._CacheItem(a,b,c)),this.maxSize_>0&&this.size()>this.maxSize_){var e=this;setTimeout(function(){e.purge_.call(e)},0)}},d.prototype.set=function(a,c,d,e){if(b.isJson(d))return void this.setItem(a,c,d);var f={};b.isDate(d)?f={expirationAbsolute:d}:b.isNumber(d)?f={expirationSliding:d}:b.isFunc(d)&&(f={callback:d}),e&&$.extend(f,{priority:e}),this.setItem(a,c,f)},d.prototype.clear=function(){for(var a=this.storage_.keys(),b=0;b<a.length;b++)this.remove(a[b])},d.prototype.getStats=function(){return this.stats_},d.prototype.resize=function(a){var b=this.maxSize_;this.maxSize_=a,a>0&&(0>b||b>a)&&this.size()>a&&this.purge_()},d.prototype.purge_=function(){var a=new Array,b=Math.round(this.maxSize_*this.fillFactor_);this.maxSize_<0&&(b=this.size()*this.fillFactor_);for(var c=this.storage_.keys(),d=0;d<c.length;d++){var e=c[d],f=this.storage_.get(e);this.isExpired_(f)?this.remove(e):a.push(f)}if(a.length>b)for(a=a.sort(function(a,b){return a.options.priority!=b.options.priority?b.options.priority-a.options.priority:b.lastAccessed-a.lastAccessed});a.length>b;){var g=a.pop();this.remove(g.key)}},d.prototype.addItem_=function(a,c){try{this.storage_.set(a.key,a)}catch(d){if(c)throw b.info("Failed setting again, giving up: "+d.toString()),d;b.info("Error adding item, purging and trying again: "+d.toString()),this.purge_(),this.addItem_(a,!0)}},d.prototype.remove=function(a){var b=this.storage_.remove(a);return b&&b.options&&b.options.callback&&setTimeout(function(){b.options.callback.call(null,b.key,b.value)},0),b?b.value:null},d.prototype.removeWhere=function(a){for(var b=this.storage_.keys(),c=0;c<b.length;c++){var d=b[c],e=this.storage_.get(d);a(d,e.value)===!0&&this.remove(d)}},d.prototype.size=function(){return this.storage_.size()},d.prototype.isExpired_=function(a){var c=b.now(),d=!1;if(a.options.expirationAbsolute&&a.options.expirationAbsolute<c&&(d=!0),!d&&a.options.expirationSliding){var e=a.lastAccessed+1e3*a.options.expirationSliding;c>e&&(d=!0)}return d},b.register(c,e),b.register("newMemCache",function(a){return b.newCache(a,new d.BasicCacheStorage)})}(this,this.kiwi,"newCache"),!function(a,b,c){function d(a,c){this.maxSize_=a||-1,this.storage_=c||b.store,this.fillFactor_=.75,this.stats_={},this.stats_.hits=0,this.stats_.misses=0,b.info("Initialized cache with size "+this.maxSize_)}var e=function(a,b){return new d(a,b)};a.CachePriority={LOW:1,NORMAL:2,HIGH:4},d.BasicCacheStorage=function(){this.items_={},this.count_=0},d.BasicCacheStorage.prototype.get=function(a){return this.items_[a]},d.BasicCacheStorage.prototype.set=function(a,b){"undefined"==typeof this.get(a)&&this.count_++,this.items_[a]=b},d.BasicCacheStorage.prototype.size=function(a,b){return this.count_},d.BasicCacheStorage.prototype.remove=function(a){var b=this.get(a);return"undefined"!=typeof b&&this.count_--,delete this.items_[a],b},d.BasicCacheStorage.prototype.keys=function(){var a=[],b=null;for(b in this.items_)a.push(b);return a},d.prototype.get=function(a){var c=this.storage_.get(a);null!=c&&(this.isExpired_(c)?(this.remove(a),c=null):c.lastAccessed=b.now());var d=c?c.value:null;return d?this.stats_.hits++:this.stats_.misses++,d},d._CacheItem=function(a,c,d){if(!a)throw new Error("key cannot be null or empty");this.key=a,this.value=c,d=d||{},d.expirationAbsolute&&(d.expirationAbsolute=d.expirationAbsolute.getTime()),d.priority||(d.priority=CachePriority.NORMAL),this.options=d,this.lastAccessed=b.now()},d.prototype.setItem=function(a,b,c){if(null!=this.storage_.get(a)&&this.remove(a),this.addItem_(new d._CacheItem(a,b,c)),this.maxSize_>0&&this.size()>this.maxSize_){var e=this;setTimeout(function(){e.purge_.call(e)},0)}},d.prototype.set=function(a,c,d,e){if(b.isJson(d))return void this.setItem(a,c,d);var f={};b.isDate(d)?f={expirationAbsolute:d}:b.isNumber(d)?f={expirationSliding:d}:b.isFunc(d)&&(f={callback:d}),e&&$.extend(f,{priority:e}),this.setItem(a,c,f)},d.prototype.clear=function(){for(var a=this.storage_.keys(),b=0;b<a.length;b++)this.remove(a[b])},d.prototype.getStats=function(){return this.stats_},d.prototype.resize=function(a){var b=this.maxSize_;this.maxSize_=a,a>0&&(0>b||b>a)&&this.size()>a&&this.purge_()},d.prototype.purge_=function(){var a=new Array,b=Math.round(this.maxSize_*this.fillFactor_);this.maxSize_<0&&(b=this.size()*this.fillFactor_);for(var c=this.storage_.keys(),d=0;d<c.length;d++){var e=c[d],f=this.storage_.get(e);this.isExpired_(f)?this.remove(e):a.push(f)}if(a.length>b)for(a=a.sort(function(a,b){return a.options.priority!=b.options.priority?b.options.priority-a.options.priority:b.lastAccessed-a.lastAccessed});a.length>b;){var g=a.pop();this.remove(g.key)}},d.prototype.addItem_=function(a,c){try{this.storage_.set(a.key,a)}catch(d){if(c)throw b.info("Failed setting again, giving up: "+d.toString()),d;b.info("Error adding item, purging and trying again: "+d.toString()),this.purge_(),this.addItem_(a,!0)}},d.prototype.remove=function(a){var b=this.storage_.remove(a);return b&&b.options&&b.options.callback&&setTimeout(function(){b.options.callback.call(null,b.key,b.value)},0),b?b.value:null},d.prototype.removeWhere=function(a){for(var b=this.storage_.keys(),c=0;c<b.length;c++){var d=b[c],e=this.storage_.get(d);a(d,e.value)===!0&&this.remove(d)}},d.prototype.size=function(){return this.storage_.size()},d.prototype.isExpired_=function(a){var c=b.now(),d=!1;if(a.options.expirationAbsolute&&a.options.expirationAbsolute<c&&(d=!0),!d&&a.options.expirationSliding){var e=a.lastAccessed+1e3*a.options.expirationSliding;c>e&&(d=!0)}return d},b.register(c,e),b.register("newMemCache",function(a){return b.newCache(a,new d.BasicCacheStorage)})}(this,this.kiwi,"newCache"),!function(a,b,c){function d(a,c){this.maxSize_=a||-1,this.storage_=c||b.store,this.fillFactor_=.75,this.stats_={},this.stats_.hits=0,this.stats_.misses=0,b.info("Initialized cache with size "+this.maxSize_)}var e=function(a,b){return new d(a,b)};a.CachePriority={LOW:1,NORMAL:2,HIGH:4},d.BasicCacheStorage=function(){this.items_={},this.count_=0},d.BasicCacheStorage.prototype.get=function(a){return this.items_[a]},d.BasicCacheStorage.prototype.set=function(a,b){"undefined"==typeof this.get(a)&&this.count_++,this.items_[a]=b},d.BasicCacheStorage.prototype.size=function(a,b){return this.count_},d.BasicCacheStorage.prototype.remove=function(a){var b=this.get(a);return"undefined"!=typeof b&&this.count_--,delete this.items_[a],b},d.BasicCacheStorage.prototype.keys=function(){var a=[],b=null;for(b in this.items_)a.push(b);return a},d.prototype.get=function(a){var c=this.storage_.get(a);null!=c&&(this.isExpired_(c)?(this.remove(a),c=null):c.lastAccessed=b.now());var d=c?c.value:null;return d?this.stats_.hits++:this.stats_.misses++,d},d._CacheItem=function(a,c,d){if(!a)throw new Error("key cannot be null or empty");this.key=a,this.value=c,d=d||{},d.expirationAbsolute&&(d.expirationAbsolute=d.expirationAbsolute.getTime()),d.priority||(d.priority=CachePriority.NORMAL),this.options=d,this.lastAccessed=b.now()},d.prototype.setItem=function(a,b,c){if(null!=this.storage_.get(a)&&this.remove(a),this.addItem_(new d._CacheItem(a,b,c)),this.maxSize_>0&&this.size()>this.maxSize_){var e=this;setTimeout(function(){e.purge_.call(e)},0)}},d.prototype.set=function(a,c,d,e){if(b.isJson(d))return void this.setItem(a,c,d);var f={};b.isDate(d)?f={expirationAbsolute:d}:b.isNumber(d)?f={expirationSliding:d}:b.isFunc(d)&&(f={callback:d}),e&&$.extend(f,{priority:e}),this.setItem(a,c,f)},d.prototype.clear=function(){for(var a=this.storage_.keys(),b=0;b<a.length;b++)this.remove(a[b])},d.prototype.getStats=function(){return this.stats_},d.prototype.resize=function(a){var b=this.maxSize_;this.maxSize_=a,a>0&&(0>b||b>a)&&this.size()>a&&this.purge_()},d.prototype.purge_=function(){var a=new Array,b=Math.round(this.maxSize_*this.fillFactor_);this.maxSize_<0&&(b=this.size()*this.fillFactor_);for(var c=this.storage_.keys(),d=0;d<c.length;d++){var e=c[d],f=this.storage_.get(e);this.isExpired_(f)?this.remove(e):a.push(f)}if(a.length>b)for(a=a.sort(function(a,b){return a.options.priority!=b.options.priority?b.options.priority-a.options.priority:b.lastAccessed-a.lastAccessed});a.length>b;){var g=a.pop();this.remove(g.key)}},d.prototype.addItem_=function(a,c){try{this.storage_.set(a.key,a)}catch(d){if(c)throw b.info("Failed setting again, giving up: "+d.toString()),d;b.info("Error adding item, purging and trying again: "+d.toString()),this.purge_(),this.addItem_(a,!0)}},d.prototype.remove=function(a){var b=this.storage_.remove(a);return b&&b.options&&b.options.callback&&setTimeout(function(){b.options.callback.call(null,b.key,b.value)},0),b?b.value:null},d.prototype.removeWhere=function(a){for(var b=this.storage_.keys(),c=0;c<b.length;c++){var d=b[c],e=this.storage_.get(d);a(d,e.value)===!0&&this.remove(d)}},d.prototype.size=function(){return this.storage_.size()},d.prototype.isExpired_=function(a){var c=b.now(),d=!1;if(a.options.expirationAbsolute&&a.options.expirationAbsolute<c&&(d=!0),!d&&a.options.expirationSliding){var e=a.lastAccessed+1e3*a.options.expirationSliding;c>e&&(d=!0)}return d},b.register(c,e),b.register("newMemCache",function(a){return b.newCache(a,new d.BasicCacheStorage)})}(this,this.kiwi,"newCache"),!function(a,b,c){function d(a,c){this.maxSize_=a||-1,this.storage_=c||b.store,this.fillFactor_=.75,this.stats_={},this.stats_.hits=0,this.stats_.misses=0,b.info("Initialized cache with size "+this.maxSize_)}var e=function(a,b){return new d(a,b)};a.CachePriority={LOW:1,NORMAL:2,HIGH:4},d.BasicCacheStorage=function(){this.items_={},this.count_=0},d.BasicCacheStorage.prototype.get=function(a){return this.items_[a]},d.BasicCacheStorage.prototype.set=function(a,b){"undefined"==typeof this.get(a)&&this.count_++,this.items_[a]=b},d.BasicCacheStorage.prototype.size=function(a,b){
return this.count_},d.BasicCacheStorage.prototype.remove=function(a){var b=this.get(a);return"undefined"!=typeof b&&this.count_--,delete this.items_[a],b},d.BasicCacheStorage.prototype.keys=function(){var a=[],b=null;for(b in this.items_)a.push(b);return a},d.prototype.get=function(a){var c=this.storage_.get(a);null!=c&&(this.isExpired_(c)?(this.remove(a),c=null):c.lastAccessed=b.now());var d=c?c.value:null;return d?this.stats_.hits++:this.stats_.misses++,d},d._CacheItem=function(a,c,d){if(!a)throw new Error("key cannot be null or empty");this.key=a,this.value=c,d=d||{},d.expirationAbsolute&&(d.expirationAbsolute=d.expirationAbsolute.getTime()),d.priority||(d.priority=CachePriority.NORMAL),this.options=d,this.lastAccessed=b.now()},d.prototype.setItem=function(a,b,c){if(null!=this.storage_.get(a)&&this.remove(a),this.addItem_(new d._CacheItem(a,b,c)),this.maxSize_>0&&this.size()>this.maxSize_){var e=this;setTimeout(function(){e.purge_.call(e)},0)}},d.prototype.set=function(a,c,d,e){if(b.isJson(d))return void this.setItem(a,c,d);var f={};b.isDate(d)?f={expirationAbsolute:d}:b.isNumber(d)?f={expirationSliding:d}:b.isFunc(d)&&(f={callback:d}),e&&$.extend(f,{priority:e}),this.setItem(a,c,f)},d.prototype.clear=function(){for(var a=this.storage_.keys(),b=0;b<a.length;b++)this.remove(a[b])},d.prototype.getStats=function(){return this.stats_},d.prototype.resize=function(a){var b=this.maxSize_;this.maxSize_=a,a>0&&(0>b||b>a)&&this.size()>a&&this.purge_()},d.prototype.purge_=function(){var a=new Array,b=Math.round(this.maxSize_*this.fillFactor_);this.maxSize_<0&&(b=this.size()*this.fillFactor_);for(var c=this.storage_.keys(),d=0;d<c.length;d++){var e=c[d],f=this.storage_.get(e);this.isExpired_(f)?this.remove(e):a.push(f)}if(a.length>b)for(a=a.sort(function(a,b){return a.options.priority!=b.options.priority?b.options.priority-a.options.priority:b.lastAccessed-a.lastAccessed});a.length>b;){var g=a.pop();this.remove(g.key)}},d.prototype.addItem_=function(a,c){try{this.storage_.set(a.key,a)}catch(d){if(c)throw b.info("Failed setting again, giving up: "+d.toString()),d;b.info("Error adding item, purging and trying again: "+d.toString()),this.purge_(),this.addItem_(a,!0)}},d.prototype.remove=function(a){var b=this.storage_.remove(a);return b&&b.options&&b.options.callback&&setTimeout(function(){b.options.callback.call(null,b.key,b.value)},0),b?b.value:null},d.prototype.removeWhere=function(a){for(var b=this.storage_.keys(),c=0;c<b.length;c++){var d=b[c],e=this.storage_.get(d);a(d,e.value)===!0&&this.remove(d)}},d.prototype.size=function(){return this.storage_.size()},d.prototype.isExpired_=function(a){var c=b.now(),d=!1;if(a.options.expirationAbsolute&&a.options.expirationAbsolute<c&&(d=!0),!d&&a.options.expirationSliding){var e=a.lastAccessed+1e3*a.options.expirationSliding;c>e&&(d=!0)}return d},b.register(c,e),b.register("newMemCache",function(a){return b.newCache(a,new d.BasicCacheStorage)})}(this,this.kiwi,"newCache"),!function(a,b,c){function d(a,c){this.maxSize_=a||-1,this.storage_=c||b.store,this.fillFactor_=.75,this.stats_={},this.stats_.hits=0,this.stats_.misses=0,b.info("Initialized cache with size "+this.maxSize_)}var e=function(a,b){return new d(a,b)};a.CachePriority={LOW:1,NORMAL:2,HIGH:4},d.BasicCacheStorage=function(){this.items_={},this.count_=0},d.BasicCacheStorage.prototype.get=function(a){return this.items_[a]},d.BasicCacheStorage.prototype.set=function(a,b){"undefined"==typeof this.get(a)&&this.count_++,this.items_[a]=b},d.BasicCacheStorage.prototype.size=function(a,b){return this.count_},d.BasicCacheStorage.prototype.remove=function(a){var b=this.get(a);return"undefined"!=typeof b&&this.count_--,delete this.items_[a],b},d.BasicCacheStorage.prototype.keys=function(){var a=[],b=null;for(b in this.items_)a.push(b);return a},d.prototype.get=function(a){var c=this.storage_.get(a);null!=c&&(this.isExpired_(c)?(this.remove(a),c=null):c.lastAccessed=b.now());var d=c?c.value:null;return d?this.stats_.hits++:this.stats_.misses++,d},d._CacheItem=function(a,c,d){if(!a)throw new Error("key cannot be null or empty");this.key=a,this.value=c,d=d||{},d.expirationAbsolute&&(d.expirationAbsolute=d.expirationAbsolute.getTime()),d.priority||(d.priority=CachePriority.NORMAL),this.options=d,this.lastAccessed=b.now()},d.prototype.setItem=function(a,b,c){if(null!=this.storage_.get(a)&&this.remove(a),this.addItem_(new d._CacheItem(a,b,c)),this.maxSize_>0&&this.size()>this.maxSize_){var e=this;setTimeout(function(){e.purge_.call(e)},0)}},d.prototype.set=function(a,c,d,e){if(b.isJson(d))return void this.setItem(a,c,d);var f={};b.isDate(d)?f={expirationAbsolute:d}:b.isNumber(d)?f={expirationSliding:d}:b.isFunc(d)&&(f={callback:d}),e&&$.extend(f,{priority:e}),this.setItem(a,c,f)},d.prototype.clear=function(){for(var a=this.storage_.keys(),b=0;b<a.length;b++)this.remove(a[b])},d.prototype.getStats=function(){return this.stats_},d.prototype.resize=function(a){var b=this.maxSize_;this.maxSize_=a,a>0&&(0>b||b>a)&&this.size()>a&&this.purge_()},d.prototype.purge_=function(){var a=new Array,b=Math.round(this.maxSize_*this.fillFactor_);this.maxSize_<0&&(b=this.size()*this.fillFactor_);for(var c=this.storage_.keys(),d=0;d<c.length;d++){var e=c[d],f=this.storage_.get(e);this.isExpired_(f)?this.remove(e):a.push(f)}if(a.length>b)for(a=a.sort(function(a,b){return a.options.priority!=b.options.priority?b.options.priority-a.options.priority:b.lastAccessed-a.lastAccessed});a.length>b;){var g=a.pop();this.remove(g.key)}},d.prototype.addItem_=function(a,c){try{this.storage_.set(a.key,a)}catch(d){if(c)throw b.info("Failed setting again, giving up: "+d.toString()),d;b.info("Error adding item, purging and trying again: "+d.toString()),this.purge_(),this.addItem_(a,!0)}},d.prototype.remove=function(a){var b=this.storage_.remove(a);return b&&b.options&&b.options.callback&&setTimeout(function(){b.options.callback.call(null,b.key,b.value)},0),b?b.value:null},d.prototype.removeWhere=function(a){for(var b=this.storage_.keys(),c=0;c<b.length;c++){var d=b[c],e=this.storage_.get(d);a(d,e.value)===!0&&this.remove(d)}},d.prototype.size=function(){return this.storage_.size()},d.prototype.isExpired_=function(a){var c=b.now(),d=!1;if(a.options.expirationAbsolute&&a.options.expirationAbsolute<c&&(d=!0),!d&&a.options.expirationSliding){var e=a.lastAccessed+1e3*a.options.expirationSliding;c>e&&(d=!0)}return d},b.register(c,e),b.register("newMemCache",function(a){return b.newCache(a,new d.BasicCacheStorage)})}(this,this.kiwi,"newCache"),!function(a,b,c){function d(a,c){this.maxSize_=a||-1,this.storage_=c||b.store,this.fillFactor_=.75,this.stats_={},this.stats_.hits=0,this.stats_.misses=0,b.info("Initialized cache with size "+this.maxSize_)}var e=function(a,b){return new d(a,b)};a.CachePriority={LOW:1,NORMAL:2,HIGH:4},d.BasicCacheStorage=function(){this.items_={},this.count_=0},d.BasicCacheStorage.prototype.get=function(a){return this.items_[a]},d.BasicCacheStorage.prototype.set=function(a,b){"undefined"==typeof this.get(a)&&this.count_++,this.items_[a]=b},d.BasicCacheStorage.prototype.size=function(a,b){return this.count_},d.BasicCacheStorage.prototype.remove=function(a){var b=this.get(a);return"undefined"!=typeof b&&this.count_--,delete this.items_[a],b},d.BasicCacheStorage.prototype.keys=function(){var a=[],b=null;for(b in this.items_)a.push(b);return a},d.prototype.get=function(a){var c=this.storage_.get(a);null!=c&&(this.isExpired_(c)?(this.remove(a),c=null):c.lastAccessed=b.now());var d=c?c.value:null;return d?this.stats_.hits++:this.stats_.misses++,d},d._CacheItem=function(a,c,d){if(!a)throw new Error("key cannot be null or empty");this.key=a,this.value=c,d=d||{},d.expirationAbsolute&&(d.expirationAbsolute=d.expirationAbsolute.getTime()),d.priority||(d.priority=CachePriority.NORMAL),this.options=d,this.lastAccessed=b.now()},d.prototype.setItem=function(a,b,c){if(null!=this.storage_.get(a)&&this.remove(a),this.addItem_(new d._CacheItem(a,b,c)),this.maxSize_>0&&this.size()>this.maxSize_){var e=this;setTimeout(function(){e.purge_.call(e)},0)}},d.prototype.set=function(a,c,d,e){if(b.isJson(d))return void this.setItem(a,c,d);var f={};b.isDate(d)?f={expirationAbsolute:d}:b.isNumber(d)?f={expirationSliding:d}:b.isFunc(d)&&(f={callback:d}),e&&$.extend(f,{priority:e}),this.setItem(a,c,f)},d.prototype.clear=function(){for(var a=this.storage_.keys(),b=0;b<a.length;b++)this.remove(a[b])},d.prototype.getStats=function(){return this.stats_},d.prototype.resize=function(a){var b=this.maxSize_;this.maxSize_=a,a>0&&(0>b||b>a)&&this.size()>a&&this.purge_()},d.prototype.purge_=function(){var a=new Array,b=Math.round(this.maxSize_*this.fillFactor_);this.maxSize_<0&&(b=this.size()*this.fillFactor_);for(var c=this.storage_.keys(),d=0;d<c.length;d++){var e=c[d],f=this.storage_.get(e);this.isExpired_(f)?this.remove(e):a.push(f)}if(a.length>b)for(a=a.sort(function(a,b){return a.options.priority!=b.options.priority?b.options.priority-a.options.priority:b.lastAccessed-a.lastAccessed});a.length>b;){var g=a.pop();this.remove(g.key)}},d.prototype.addItem_=function(a,c){try{this.storage_.set(a.key,a)}catch(d){if(c)throw b.info("Failed setting again, giving up: "+d.toString()),d;b.info("Error adding item, purging and trying again: "+d.toString()),this.purge_(),this.addItem_(a,!0)}},d.prototype.remove=function(a){var b=this.storage_.remove(a);return b&&b.options&&b.options.callback&&setTimeout(function(){b.options.callback.call(null,b.key,b.value)},0),b?b.value:null},d.prototype.removeWhere=function(a){for(var b=this.storage_.keys(),c=0;c<b.length;c++){var d=b[c],e=this.storage_.get(d);a(d,e.value)===!0&&this.remove(d)}},d.prototype.size=function(){return this.storage_.size()},d.prototype.isExpired_=function(a){var c=b.now(),d=!1;if(a.options.expirationAbsolute&&a.options.expirationAbsolute<c&&(d=!0),!d&&a.options.expirationSliding){var e=a.lastAccessed+1e3*a.options.expirationSliding;c>e&&(d=!0)}return d},b.register(c,e),b.register("newMemCache",function(a){return b.newCache(a,new d.BasicCacheStorage)})}(this,this.kiwi,"newCache"),!function(a,b,c){function d(a,c){this.maxSize_=a||-1,this.storage_=c||b.store,this.fillFactor_=.75,this.stats_={},this.stats_.hits=0,this.stats_.misses=0,b.info("Initialized cache with size "+this.maxSize_)}var e=function(a,b){return new d(a,b)};a.CachePriority={LOW:1,NORMAL:2,HIGH:4},d.BasicCacheStorage=function(){this.items_={},this.count_=0},d.BasicCacheStorage.prototype.get=function(a){return this.items_[a]},d.BasicCacheStorage.prototype.set=function(a,b){"undefined"==typeof this.get(a)&&this.count_++,this.items_[a]=b},d.BasicCacheStorage.prototype.size=function(a,b){return this.count_},d.BasicCacheStorage.prototype.remove=function(a){var b=this.get(a);return"undefined"!=typeof b&&this.count_--,delete this.items_[a],b},d.BasicCacheStorage.prototype.keys=function(){var a=[],b=null;for(b in this.items_)a.push(b);return a},d.prototype.get=function(a){var c=this.storage_.get(a);null!=c&&(this.isExpired_(c)?(this.remove(a),c=null):c.lastAccessed=b.now());var d=c?c.value:null;return d?this.stats_.hits++:this.stats_.misses++,d},d._CacheItem=function(a,c,d){if(!a)throw new Error("key cannot be null or empty");this.key=a,this.value=c,d=d||{},d.expirationAbsolute&&(d.expirationAbsolute=d.expirationAbsolute.getTime()),d.priority||(d.priority=CachePriority.NORMAL),this.options=d,this.lastAccessed=b.now()},d.prototype.setItem=function(a,b,c){if(null!=this.storage_.get(a)&&this.remove(a),this.addItem_(new d._CacheItem(a,b,c)),this.maxSize_>0&&this.size()>this.maxSize_){var e=this;setTimeout(function(){e.purge_.call(e)},0)}},d.prototype.set=function(a,c,d,e){if(b.isJson(d))return void this.setItem(a,c,d);var f={};b.isDate(d)?f={expirationAbsolute:d}:b.isNumber(d)?f={expirationSliding:d}:b.isFunc(d)&&(f={callback:d}),e&&$.extend(f,{priority:e}),this.setItem(a,c,f)},d.prototype.clear=function(){for(var a=this.storage_.keys(),b=0;b<a.length;b++)this.remove(a[b])},d.prototype.getStats=function(){return this.stats_},d.prototype.resize=function(a){var b=this.maxSize_;this.maxSize_=a,a>0&&(0>b||b>a)&&this.size()>a&&this.purge_()},d.prototype.purge_=function(){var a=new Array,b=Math.round(this.maxSize_*this.fillFactor_);this.maxSize_<0&&(b=this.size()*this.fillFactor_);for(var c=this.storage_.keys(),d=0;d<c.length;d++){var e=c[d],f=this.storage_.get(e);this.isExpired_(f)?this.remove(e):a.push(f)}if(a.length>b)for(a=a.sort(function(a,b){return a.options.priority!=b.options.priority?b.options.priority-a.options.priority:b.lastAccessed-a.lastAccessed});a.length>b;){var g=a.pop();this.remove(g.key)}},d.prototype.addItem_=function(a,c){try{this.storage_.set(a.key,a)}catch(d){if(c)throw b.info("Failed setting again, giving up: "+d.toString()),d;b.info("Error adding item, purging and trying again: "+d.toString()),this.purge_(),this.addItem_(a,!0)}},d.prototype.remove=function(a){var b=this.storage_.remove(a);return b&&b.options&&b.options.callback&&setTimeout(function(){b.options.callback.call(null,b.key,b.value)},0),b?b.value:null},d.prototype.removeWhere=function(a){for(var b=this.storage_.keys(),c=0;c<b.length;c++){var d=b[c],e=this.storage_.get(d);a(d,e.value)===!0&&this.remove(d)}},d.prototype.size=function(){return this.storage_.size()},d.prototype.isExpired_=function(a){var c=b.now(),d=!1;if(a.options.expirationAbsolute&&a.options.expirationAbsolute<c&&(d=!0),!d&&a.options.expirationSliding){var e=a.lastAccessed+1e3*a.options.expirationSliding;c>e&&(d=!0)}return d},b.register(c,e),b.register("newMemCache",function(a){return b.newCache(a,new d.BasicCacheStorage)})}(this,this.kiwi,"newCache"),!function(a,b,c){function d(a,c){this.maxSize_=a||-1,this.storage_=c||b.store,this.fillFactor_=.75,this.stats_={},this.stats_.hits=0,this.stats_.misses=0,b.info("Initialized cache with size "+this.maxSize_)}var e=function(a,b){return new d(a,b)};a.CachePriority={LOW:1,NORMAL:2,HIGH:4},d.BasicCacheStorage=function(){this.items_={},this.count_=0},d.BasicCacheStorage.prototype.get=function(a){return this.items_[a]},d.BasicCacheStorage.prototype.set=function(a,b){"undefined"==typeof this.get(a)&&this.count_++,this.items_[a]=b},d.BasicCacheStorage.prototype.size=function(a,b){return this.count_},d.BasicCacheStorage.prototype.remove=function(a){var b=this.get(a);return"undefined"!=typeof b&&this.count_--,delete this.items_[a],b},d.BasicCacheStorage.prototype.keys=function(){var a=[],b=null;for(b in this.items_)a.push(b);return a},d.prototype.get=function(a){var c=this.storage_.get(a);null!=c&&(this.isExpired_(c)?(this.remove(a),c=null):c.lastAccessed=b.now());var d=c?c.value:null;return d?this.stats_.hits++:this.stats_.misses++,d},d._CacheItem=function(a,c,d){if(!a)throw new Error("key cannot be null or empty");this.key=a,this.value=c,d=d||{},d.expirationAbsolute&&(d.expirationAbsolute=d.expirationAbsolute.getTime()),d.priority||(d.priority=CachePriority.NORMAL),this.options=d,this.lastAccessed=b.now()},d.prototype.setItem=function(a,b,c){if(null!=this.storage_.get(a)&&this.remove(a),this.addItem_(new d._CacheItem(a,b,c)),this.maxSize_>0&&this.size()>this.maxSize_){var e=this;setTimeout(function(){e.purge_.call(e)},0)}},d.prototype.set=function(a,c,d,e){if(b.isJson(d))return void this.setItem(a,c,d);var f={};b.isDate(d)?f={expirationAbsolute:d}:b.isNumber(d)?f={expirationSliding:d}:b.isFunc(d)&&(f={callback:d}),e&&$.extend(f,{priority:e}),this.setItem(a,c,f)},d.prototype.clear=function(){for(var a=this.storage_.keys(),b=0;b<a.length;b++)this.remove(a[b])},d.prototype.getStats=function(){return this.stats_},d.prototype.resize=function(a){var b=this.maxSize_;this.maxSize_=a,a>0&&(0>b||b>a)&&this.size()>a&&this.purge_()},d.prototype.purge_=function(){var a=new Array,b=Math.round(this.maxSize_*this.fillFactor_);this.maxSize_<0&&(b=this.size()*this.fillFactor_);for(var c=this.storage_.keys(),d=0;d<c.length;d++){var e=c[d],f=this.storage_.get(e);this.isExpired_(f)?this.remove(e):a.push(f)}if(a.length>b)for(a=a.sort(function(a,b){return a.options.priority!=b.options.priority?b.options.priority-a.options.priority:b.lastAccessed-a.lastAccessed});a.length>b;){var g=a.pop();this.remove(g.key)}},d.prototype.addItem_=function(a,c){try{this.storage_.set(a.key,a)}catch(d){if(c)throw b.info("Failed setting again, giving up: "+d.toString()),d;b.info("Error adding item, purging and trying again: "+d.toString()),this.purge_(),this.addItem_(a,!0)}},d.prototype.remove=function(a){var b=this.storage_.remove(a);return b&&b.options&&b.options.callback&&setTimeout(function(){b.options.callback.call(null,b.key,b.value)},0),b?b.value:null},d.prototype.removeWhere=function(a){for(var b=this.storage_.keys(),c=0;c<b.length;c++){var d=b[c],e=this.storage_.get(d);a(d,e.value)===!0&&this.remove(d)}},d.prototype.size=function(){return this.storage_.size()},d.prototype.isExpired_=function(a){var c=b.now(),d=!1;if(a.options.expirationAbsolute&&a.options.expirationAbsolute<c&&(d=!0),!d&&a.options.expirationSliding){var e=a.lastAccessed+1e3*a.options.expirationSliding;c>e&&(d=!0)}return d},b.register(c,e),b.register("newMemCache",function(a){return b.newCache(a,new d.BasicCacheStorage)})}(this,this.kiwi,"newCache"),!function(a,b,c){function d(a,c){this.maxSize_=a||-1,this.storage_=c||b.store,this.fillFactor_=.75,this.stats_={},this.stats_.hits=0,this.stats_.misses=0,b.info("Initialized cache with size "+this.maxSize_)}var e=function(a,b){return new d(a,b)};a.CachePriority={LOW:1,NORMAL:2,HIGH:4},d.BasicCacheStorage=function(){this.items_={},this.count_=0},d.BasicCacheStorage.prototype.get=function(a){return this.items_[a]},d.BasicCacheStorage.prototype.set=function(a,b){"undefined"==typeof this.get(a)&&this.count_++,this.items_[a]=b},d.BasicCacheStorage.prototype.size=function(a,b){return this.count_},d.BasicCacheStorage.prototype.remove=function(a){var b=this.get(a);return"undefined"!=typeof b&&this.count_--,delete this.items_[a],b},d.BasicCacheStorage.prototype.keys=function(){var a=[],b=null;for(b in this.items_)a.push(b);return a},d.prototype.get=function(a){var c=this.storage_.get(a);null!=c&&(this.isExpired_(c)?(this.remove(a),c=null):c.lastAccessed=b.now());var d=c?c.value:null;return d?this.stats_.hits++:this.stats_.misses++,d},d._CacheItem=function(a,c,d){if(!a)throw new Error("key cannot be null or empty");this.key=a,this.value=c,d=d||{},d.expirationAbsolute&&(d.expirationAbsolute=d.expirationAbsolute.getTime()),d.priority||(d.priority=CachePriority.NORMAL),this.options=d,this.lastAccessed=b.now()},d.prototype.setItem=function(a,b,c){if(null!=this.storage_.get(a)&&this.remove(a),this.addItem_(new d._CacheItem(a,b,c)),this.maxSize_>0&&this.size()>this.maxSize_){var e=this;setTimeout(function(){e.purge_.call(e)},0)}},d.prototype.set=function(a,c,d,e){if(b.isJson(d))return void this.setItem(a,c,d);var f={};b.isDate(d)?f={expirationAbsolute:d}:b.isNumber(d)?f={expirationSliding:d}:b.isFunc(d)&&(f={callback:d}),e&&$.extend(f,{priority:e}),this.setItem(a,c,f)},d.prototype.clear=function(){for(var a=this.storage_.keys(),b=0;b<a.length;b++)this.remove(a[b])},d.prototype.getStats=function(){return this.stats_},d.prototype.resize=function(a){var b=this.maxSize_;this.maxSize_=a,a>0&&(0>b||b>a)&&this.size()>a&&this.purge_()},d.prototype.purge_=function(){var a=new Array,b=Math.round(this.maxSize_*this.fillFactor_);this.maxSize_<0&&(b=this.size()*this.fillFactor_);for(var c=this.storage_.keys(),d=0;d<c.length;d++){var e=c[d],f=this.storage_.get(e);this.isExpired_(f)?this.remove(e):a.push(f)}if(a.length>b)for(a=a.sort(function(a,b){return a.options.priority!=b.options.priority?b.options.priority-a.options.priority:b.lastAccessed-a.lastAccessed});a.length>b;){var g=a.pop();this.remove(g.key)}},d.prototype.addItem_=function(a,c){try{this.storage_.set(a.key,a)}catch(d){if(c)throw b.info("Failed setting again, giving up: "+d.toString()),d;b.info("Error adding item, purging and trying again: "+d.toString()),this.purge_(),this.addItem_(a,!0)}},d.prototype.remove=function(a){var b=this.storage_.remove(a);return b&&b.options&&b.options.callback&&setTimeout(function(){b.options.callback.call(null,b.key,b.value)},0),b?b.value:null},d.prototype.removeWhere=function(a){for(var b=this.storage_.keys(),c=0;c<b.length;c++){var d=b[c],e=this.storage_.get(d);a(d,e.value)===!0&&this.remove(d)}},d.prototype.size=function(){return this.storage_.size()},d.prototype.isExpired_=function(a){var c=b.now(),d=!1;if(a.options.expirationAbsolute&&a.options.expirationAbsolute<c&&(d=!0),!d&&a.options.expirationSliding){var e=a.lastAccessed+1e3*a.options.expirationSliding;c>e&&(d=!0)}return d},b.register(c,e),b.register("newMemCache",function(a){return b.newCache(a,new d.BasicCacheStorage)})}(this,this.kiwi,"newCache"),!function(a,b,c){function d(a,c){this.maxSize_=a||-1,this.storage_=c||b.store,this.fillFactor_=.75,this.stats_={},this.stats_.hits=0,this.stats_.misses=0,b.info("Initialized cache with size "+this.maxSize_)}var e=function(a,b){return new d(a,b)};a.CachePriority={LOW:1,NORMAL:2,HIGH:4},d.BasicCacheStorage=function(){this.items_={},this.count_=0},d.BasicCacheStorage.prototype.get=function(a){return this.items_[a]},d.BasicCacheStorage.prototype.set=function(a,b){"undefined"==typeof this.get(a)&&this.count_++,this.items_[a]=b},d.BasicCacheStorage.prototype.size=function(a,b){return this.count_},d.BasicCacheStorage.prototype.remove=function(a){var b=this.get(a);return"undefined"!=typeof b&&this.count_--,delete this.items_[a],b},d.BasicCacheStorage.prototype.keys=function(){var a=[],b=null;for(b in this.items_)a.push(b);return a},d.prototype.get=function(a){var c=this.storage_.get(a);null!=c&&(this.isExpired_(c)?(this.remove(a),c=null):c.lastAccessed=b.now());var d=c?c.value:null;return d?this.stats_.hits++:this.stats_.misses++,d},d._CacheItem=function(a,c,d){if(!a)throw new Error("key cannot be null or empty");this.key=a,this.value=c,d=d||{},d.expirationAbsolute&&(d.expirationAbsolute=d.expirationAbsolute.getTime()),d.priority||(d.priority=CachePriority.NORMAL),this.options=d,this.lastAccessed=b.now()},d.prototype.setItem=function(a,b,c){if(null!=this.storage_.get(a)&&this.remove(a),this.addItem_(new d._CacheItem(a,b,c)),this.maxSize_>0&&this.size()>this.maxSize_){var e=this;setTimeout(function(){e.purge_.call(e)},0)}},d.prototype.set=function(a,c,d,e){if(b.isJson(d))return void this.setItem(a,c,d);var f={};b.isDate(d)?f={expirationAbsolute:d}:b.isNumber(d)?f={expirationSliding:d}:b.isFunc(d)&&(f={callback:d}),e&&$.extend(f,{priority:e}),this.setItem(a,c,f)},d.prototype.clear=function(){for(var a=this.storage_.keys(),b=0;b<a.length;b++)this.remove(a[b])},d.prototype.getStats=function(){return this.stats_},d.prototype.resize=function(a){var b=this.maxSize_;this.maxSize_=a,a>0&&(0>b||b>a)&&this.size()>a&&this.purge_()},d.prototype.purge_=function(){var a=new Array,b=Math.round(this.maxSize_*this.fillFactor_);this.maxSize_<0&&(b=this.size()*this.fillFactor_);for(var c=this.storage_.keys(),d=0;d<c.length;d++){var e=c[d],f=this.storage_.get(e);this.isExpired_(f)?this.remove(e):a.push(f)}if(a.length>b)for(a=a.sort(function(a,b){return a.options.priority!=b.options.priority?b.options.priority-a.options.priority:b.lastAccessed-a.lastAccessed});a.length>b;){var g=a.pop();this.remove(g.key)}},d.prototype.addItem_=function(a,c){try{this.storage_.set(a.key,a)}catch(d){if(c)throw b.info("Failed setting again, giving up: "+d.toString()),d;b.info("Error adding item, purging and trying again: "+d.toString()),this.purge_(),this.addItem_(a,!0)}},d.prototype.remove=function(a){var b=this.storage_.remove(a);return b&&b.options&&b.options.callback&&setTimeout(function(){b.options.callback.call(null,b.key,b.value)},0),b?b.value:null},d.prototype.removeWhere=function(a){for(var b=this.storage_.keys(),c=0;c<b.length;c++){var d=b[c],e=this.storage_.get(d);a(d,e.value)===!0&&this.remove(d)}},d.prototype.size=function(){return this.storage_.size()},d.prototype.isExpired_=function(a){var c=b.now(),d=!1;if(a.options.expirationAbsolute&&a.options.expirationAbsolute<c&&(d=!0),!d&&a.options.expirationSliding){var e=a.lastAccessed+1e3*a.options.expirationSliding;c>e&&(d=!0)}return d},b.register(c,e),b.register("newMemCache",function(a){return b.newCache(a,new d.BasicCacheStorage)})}(this,this.kiwi,"newCache");